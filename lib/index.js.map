{"version":3,"sources":["../src/command.ts","../src/core.ts","../node_modules/fs.realpath/old.js","../node_modules/fs.realpath/index.js","../node_modules/concat-map/index.js","../node_modules/balanced-match/index.js","../node_modules/brace-expansion/index.js","../node_modules/minimatch/minimatch.js","../node_modules/inherits/inherits_browser.js","../node_modules/inherits/inherits.js","../node_modules/path-is-absolute/index.js","../node_modules/glob/common.js","../node_modules/glob/sync.js","../node_modules/wrappy/wrappy.js","../node_modules/once/once.js","../node_modules/inflight/inflight.js","../node_modules/glob/glob.js","../node_modules/universalify/index.js","../node_modules/graceful-fs/polyfills.js","../node_modules/graceful-fs/legacy-streams.js","../node_modules/graceful-fs/clone.js","../node_modules/graceful-fs/graceful-fs.js","../node_modules/fs-extra/lib/fs/index.js","../node_modules/fs-extra/lib/mkdirs/win32.js","../node_modules/fs-extra/lib/mkdirs/mkdirs.js","../node_modules/fs-extra/lib/mkdirs/mkdirs-sync.js","../node_modules/fs-extra/lib/mkdirs/index.js","../node_modules/fs-extra/lib/util/utimes.js","../node_modules/fs-extra/lib/util/stat.js","../node_modules/fs-extra/lib/util/buffer.js","../node_modules/fs-extra/lib/copy-sync/copy-sync.js","../node_modules/fs-extra/lib/copy-sync/index.js","../node_modules/fs-extra/lib/path-exists/index.js","../node_modules/fs-extra/lib/copy/copy.js","../node_modules/fs-extra/lib/copy/index.js","../node_modules/fs-extra/lib/remove/rimraf.js","../node_modules/fs-extra/lib/remove/index.js","../node_modules/fs-extra/lib/empty/index.js","../node_modules/fs-extra/lib/ensure/file.js","../node_modules/fs-extra/lib/ensure/link.js","../node_modules/fs-extra/lib/ensure/symlink-paths.js","../node_modules/fs-extra/lib/ensure/symlink-type.js","../node_modules/fs-extra/lib/ensure/symlink.js","../node_modules/fs-extra/lib/ensure/index.js","../node_modules/jsonfile/index.js","../node_modules/fs-extra/lib/json/jsonfile.js","../node_modules/fs-extra/lib/json/output-json.js","../node_modules/fs-extra/lib/json/output-json-sync.js","../node_modules/fs-extra/lib/json/index.js","../node_modules/fs-extra/lib/move-sync/move-sync.js","../node_modules/fs-extra/lib/move-sync/index.js","../node_modules/fs-extra/lib/move/move.js","../node_modules/fs-extra/lib/move/index.js","../node_modules/fs-extra/lib/output/index.js","../node_modules/fs-extra/lib/index.js","index.ts"],"names":["posix","path","charAt","win32","splitDeviceRe","result","exec","device","isUnc","Boolean","module","exports","process","platform","fromCallback","fn","Object","defineProperty","arguments","length","apply","Promise","resolve","reject","err","res","value","name","fromPromise","cb","then","r","u","require","fs","api","filter","key","keys","forEach","method","exists","filename","callback","read","fd","buffer","offset","position","bytesRead","write","args","bytesWritten","realpath","native","getRootPath","p","normalize","split","sep","INVALID_PATH_CHARS","invalidWin32Path","rp","replace","test","o777","parseInt","mkdirs","opts","made","mode","errInval","Error","code","xfs","undefined","umask","mkdir","er","dirname","stat","er2","isDirectory","mkdirsSync","mkdirSync","err0","statSync","err1","mkdirp","mkdirpSync","ensureDir","ensureDirSync","os","hasMillisResSync","tmpfile","join","Date","now","toString","Math","random","slice","tmpdir","d","writeFileSync","openSync","futimesSync","closeSync","mtime","hasMillisRes","writeFile","open","futimes","close","stats","timeRemoveMillis","timestamp","floor","getTime","utimesMillis","atime","futimesErr","closeErr","utimesMillisSync","NODE_VERSION_MAJOR_WITH_BIGINT","NODE_VERSION_MINOR_WITH_BIGINT","NODE_VERSION_PATCH_WITH_BIGINT","nodeVersion","versions","node","nodeVersionMajor","Number","nodeVersionMinor","nodeVersionPatch","nodeSupportsBigInt","getStats","src","dest","bigint","srcStat","destStat","getStatsSync","checkPaths","funcName","ino","dev","isSrcSubdir","errMsg","checkPathsSync","checkParentPaths","srcParent","destParent","parse","root","checkParentPathsSync","srcArr","i","destArr","reduce","acc","cur","size","Buffer","allocUnsafe","e","utimesSync","copySync","clobber","overwrite","preserveTimestamps","arch","console","warn","handleFilterAndCopy","existsSync","startCopy","dereference","lstatSync","onDir","isFile","isCharacterDevice","isBlockDevice","onFile","isSymbolicLink","onLink","copyFile","mayCopyFile","unlinkSync","errorOnExist","copyFileSync","chmodSync","copyFileFallback","BUF_LENGTH","_buff","fdr","fdw","pos","readSync","writeSync","mkDirAndCopy","copyDir","readdirSync","item","copyDirItem","srcItem","destItem","resolvedSrc","readlinkSync","cwd","symlinkSync","resolvedDest","copyLink","pathExists","access","catch","pathExistsSync","utimes","copy","handleFilter","checkParentDir","dirExists","onInclude","include","error","lstat","unlink","setDestModeAndTimestamps","rs","createReadStream","on","once","ws","createWriteStream","pipe","chmod","readdir","items","copyDirItems","pop","readlink","symlink","assert","isWindows","defaults","options","methods","m","maxBusyTries","rimraf","busyTries","strictEqual","rimraf_","CB","time","setTimeout","st","fixWinEPERM","rmdir","er3","fixWinEPERMSync","rmdirSync","originalEr","rmkids","files","n","errState","f","rimrafSync","rmkidsSync","startTime","ret","sync","remove","removeSync","emptyDir","dir","map","deleteItem","emptyDirSync","emptydirSync","emptydir","createFile","file","makeFile","createFileSync","createLink","srcpath","dstpath","makeLink","link","destinationExists","message","createLinkSync","linkSync","symlinkPaths","isAbsolute","dstdir","relativeToDst","relative","symlinkPathsSync","symlinkType","type","symlinkTypeSync","_mkdirs","_symlinkPaths","_symlinkType","createSymlink","toDst","toCwd","createSymlinkSync","ensureFile","ensureFileSync","ensureLink","ensureLinkSync","ensureSymlink","ensureSymlinkSync","jsonFile","readJson","readFile","readJsonSync","readFileSync","writeJson","writeJsonSync","outputJson","data","itDoes","outputJsonSync","outputJSON","outputJSONSync","writeJSON","writeJSONSync","readJSON","readJSONSync","moveSync","doRename","rename","renameSync","moveAcrossDevice","move","destExists","outputFile","encoding","outputFileSync","assign","getOwnPropertyDescriptor","get","promises"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yBAAwB;AAQxB;;;;;;;;;GASG;AACH,SAAgB,YAAY,CAC1B,OAAe,EACf,UAA6B,EAC7B,OAAe;IAEf,MAAM,GAAG,GAAG,IAAI,OAAO,CAAC,OAAO,EAAE,UAAU,EAAE,OAAO,CAAC,CAAA;IACrD,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAA;AAC/C,CAAC;AAPD,oCAOC;AAED,SAAgB,KAAK,CAAC,IAAY,EAAE,UAAkB,EAAE;IACtD,YAAY,CAAC,IAAI,EAAE,EAAE,EAAE,OAAO,CAAC,CAAA;AACjC,CAAC;AAFD,sBAEC;AAED,MAAM,UAAU,GAAG,KAAK,CAAA;AAExB,MAAM,OAAO;IAKX,YAAY,OAAe,EAAE,UAA6B,EAAE,OAAe;QACzE,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,GAAG,iBAAiB,CAAA;SAC5B;QAED,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;QAC5B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;IACxB,CAAC;IAED,QAAQ;QACN,IAAI,MAAM,GAAG,UAAU,GAAG,IAAI,CAAC,OAAO,CAAA;QAEtC,IAAI,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9D,MAAM,IAAI,GAAG,CAAA;YACb,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjC,IAAI,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;oBACvC,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAA;oBAChC,IAAI,GAAG,EAAE;wBACP,8DAA8D;wBAC9D,6DAA6D;wBAC7D,MAAM,IAAI,GAAG,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,IAAI,EAAE,EAAE,CAAC,GAAG,CAAA;qBAC9C;iBACF;aACF;SACF;QAED,MAAM,IAAI,GAAG,CAAA;QAEb,kEAAkE;QAClE,6DAA6D;QAC7D,MAAM,OAAO,GAAG,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE,CAAA;QACvC,MAAM,IAAI,UAAU,CAAC,OAAO,CAAC,CAAA;QAE7B,OAAO,MAAM,CAAA;IACf,CAAC;CACF;AAED,SAAS,UAAU,CAAC,CAAS;IAC3B,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;AACtD,CAAC;AAED,SAAS,MAAM,CAAC,CAAS;IACvB,OAAO,CAAC;SACL,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;SACrB,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;SACrB,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;SACpB,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;AACzB,CAAC;;;;;;;;;;;;;;ACtFD,uCAA6C;AAE7C,6BAA4B;AAU5B;;GAEG;AACH,IAAY,QAUX;AAVD,WAAY,QAAQ;IAClB;;OAEG;IACH,6CAAW,CAAA;IAEX;;OAEG;IACH,6CAAW,CAAA;AACb,CAAC,EAVW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAUnB;AAED,yEAAyE;AACzE,YAAY;AACZ,yEAAyE;AAEzE;;;;GAIG;AACH,SAAgB,cAAc,CAAC,IAAY,EAAE,GAAW;IACtD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAA;IACvB,sBAAY,CAAC,SAAS,EAAE,EAAC,IAAI,EAAC,EAAE,GAAG,CAAC,CAAA;AACtC,CAAC;AAHD,wCAGC;AAED;;;;GAIG;AACH,SAAgB,YAAY,CAAC,IAAY,EAAE,GAAW;IACpD,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;IAEzB,6CAA6C;IAC7C,qDAAqD;IACrD,sBAAY,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAA;IACnC,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAA;AACrC,CAAC;AAPD,oCAOC;AAED;;;GAGG;AACH,SAAgB,OAAO,CAAC,SAAiB;IACvC,sBAAY,CAAC,UAAU,EAAE,EAAE,EAAE,SAAS,CAAC,CAAA;IACvC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAA;AAC7E,CAAC;AAHD,0BAGC;AAED;;;;;;GAMG;AACH,SAAgB,QAAQ,CAAC,IAAY,EAAE,OAAsB;IAC3D,MAAM,GAAG,GACP,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,IAAI,EAAE,CAAA;IACpE,IAAI,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,CAAC,GAAG,EAAE;QACvC,MAAM,IAAI,KAAK,CAAC,oCAAoC,IAAI,EAAE,CAAC,CAAA;KAC5D;IAED,OAAO,GAAG,CAAC,IAAI,EAAE,CAAA;AACnB,CAAC;AARD,4BAQC;AAED;;;;;GAKG;AACH,SAAgB,SAAS,CAAC,IAAY,EAAE,KAAa;IACnD,sBAAY,CAAC,YAAY,EAAE,EAAC,IAAI,EAAC,EAAE,KAAK,CAAC,CAAA;AAC3C,CAAC;AAFD,8BAEC;AAED,yEAAyE;AACzE,UAAU;AACV,yEAAyE;AAEzE;;;;GAIG;AACH,SAAgB,SAAS,CAAC,OAAe;IACvC,OAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAA;IACnC,KAAK,CAAC,OAAO,CAAC,CAAA;AAChB,CAAC;AAHD,8BAGC;AAED,yEAAyE;AACzE,mBAAmB;AACnB,yEAAyE;AAEzE;;;GAGG;AACH,SAAgB,KAAK,CAAC,OAAe;IACnC,sBAAY,CAAC,OAAO,EAAE,EAAE,EAAE,OAAO,CAAC,CAAA;AACpC,CAAC;AAFD,sBAEC;AAED;;;GAGG;AACH,SAAgB,KAAK,CAAC,OAAe;IACnC,eAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;AACzB,CAAC;AAFD,sBAEC;AAED;;;GAGG;AACH,SAAgB,OAAO,CAAC,OAAe;IACrC,eAAK,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;AAC3B,CAAC;AAFD,0BAEC;AAED;;;;;;GAMG;AACH,SAAgB,UAAU,CAAC,IAAY;IACrC,eAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;AACtB,CAAC;AAFD,gCAEC;AAED;;GAEG;AACH,SAAgB,QAAQ;IACtB,eAAK,CAAC,UAAU,CAAC,CAAA;AACnB,CAAC;AAFD,4BAEC;AAED;;;;;;;GAOG;AACH,SAAsB,KAAK,CAAI,IAAY,EAAE,EAAoB;;QAC/D,UAAU,CAAC,IAAI,CAAC,CAAA;QAEhB,IAAI,MAAS,CAAA;QAEb,IAAI;YACF,MAAM,GAAG,MAAM,EAAE,EAAE,CAAA;SACpB;gBAAS;YACR,QAAQ,EAAE,CAAA;SACX;QAED,OAAO,MAAM,CAAA;IACf,CAAC;CAAA;AAZD,sBAYC;;;AC3KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC35BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;;AAEA,SAASA,KAAT,CAAeC,IAAf,EAAqB;AACpB,SAAOA,IAAI,CAACC,MAAL,CAAY,CAAZ,MAAmB,GAA1B;AACA;;AAED,SAASC,KAAT,CAAeF,IAAf,EAAqB;AACpB;AACA,MAAIG,aAAa,GAAG,oEAApB;AACA,MAAIC,MAAM,GAAGD,aAAa,CAACE,IAAd,CAAmBL,IAAnB,CAAb;AACA,MAAIM,MAAM,GAAGF,MAAM,CAAC,CAAD,CAAN,IAAa,EAA1B;AACA,MAAIG,KAAK,GAAGC,OAAO,CAACF,MAAM,IAAIA,MAAM,CAACL,MAAP,CAAc,CAAd,MAAqB,GAAhC,CAAnB,CALoB,CAOpB;;AACA,SAAOO,OAAO,CAACJ,MAAM,CAAC,CAAD,CAAN,IAAaG,KAAd,CAAd;AACA;;AAEDE,MAAM,CAACC,OAAP,GAAiBC,OAAO,CAACC,QAAR,KAAqB,OAArB,GAA+BV,KAA/B,GAAuCH,KAAxD;AACAU,MAAM,CAACC,OAAP,CAAeX,KAAf,GAAuBA,KAAvB;AACAU,MAAM,CAACC,OAAP,CAAeR,KAAf,GAAuBA,KAAvB;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACteA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtxBA;;AAEAQ,OAAO,CAACG,YAAR,GAAuB,UAAUC,EAAV,EAAc;AACnC,SAAOC,MAAM,CAACC,cAAP,CAAsB,YAAY;AACvC,QAAI,OAAOC,SAAS,CAACA,SAAS,CAACC,MAAV,GAAmB,CAApB,CAAhB,KAA2C,UAA/C,EAA2DJ,EAAE,CAACK,KAAH,CAAS,IAAT,EAAeF,SAAf,EAA3D,KACK;AACH,aAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCL,QAAAA,SAAS,CAACA,SAAS,CAACC,MAAX,CAAT,GAA8B,CAACK,GAAD,EAAMC,GAAN,KAAc;AAC1C,cAAID,GAAJ,EAAS,OAAOD,MAAM,CAACC,GAAD,CAAb;AACTF,UAAAA,OAAO,CAACG,GAAD,CAAP;AACD,SAHD;;AAIAP,QAAAA,SAAS,CAACC,MAAV;AACAJ,QAAAA,EAAE,CAACK,KAAH,CAAS,IAAT,EAAeF,SAAf;AACD,OAPM,CAAP;AAQD;AACF,GAZM,EAYJ,MAZI,EAYI;AAAEQ,IAAAA,KAAK,EAAEX,EAAE,CAACY;AAAZ,GAZJ,CAAP;AAaD,CAdD;;AAgBAhB,OAAO,CAACiB,WAAR,GAAsB,UAAUb,EAAV,EAAc;AAClC,SAAOC,MAAM,CAACC,cAAP,CAAsB,YAAY;AACvC,UAAMY,EAAE,GAAGX,SAAS,CAACA,SAAS,CAACC,MAAV,GAAmB,CAApB,CAApB;AACA,QAAI,OAAOU,EAAP,KAAc,UAAlB,EAA8B,OAAOd,EAAE,CAACK,KAAH,CAAS,IAAT,EAAeF,SAAf,CAAP,CAA9B,KACKH,EAAE,CAACK,KAAH,CAAS,IAAT,EAAeF,SAAf,EAA0BY,IAA1B,CAA+BC,CAAC,IAAIF,EAAE,CAAC,IAAD,EAAOE,CAAP,CAAtC,EAAiDF,EAAjD;AACN,GAJM,EAIJ,MAJI,EAII;AAAEH,IAAAA,KAAK,EAAEX,EAAE,CAACY;AAAZ,GAJJ,CAAP;AAKD,CAND;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxVA,cACA;AACA;;AACA,MAAMK,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAMoB,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AAEA,MAAME,GAAG,GAAG,CACV,QADU,EAEV,YAFU,EAGV,OAHU,EAIV,OAJU,EAKV,OALU,EAMV,UANU,EAOV,QAPU,EAQV,QARU,EASV,WATU,EAUV,OAVU,EAWV,OAXU,EAYV,WAZU,EAaV,SAbU,EAcV,QAdU,EAeV,QAfU,EAgBV,MAhBU,EAiBV,OAjBU,EAkBV,OAlBU,EAmBV,SAnBU,EAoBV,MApBU,EAqBV,UArBU,EAsBV,SAtBU,EAuBV,UAvBU,EAwBV,UAxBU,EAyBV,QAzBU,EA0BV,OA1BU,EA2BV,MA3BU,EA4BV,SA5BU,EA6BV,UA7BU,EA8BV,QA9BU,EA+BV,QA/BU,EAgCV,WAhCU,EAiCVC,MAjCU,CAiCHC,GAAG,IAAI;AACd;AACA;AACA;AACA;AACA,SAAO,OAAOH,EAAE,CAACG,GAAD,CAAT,KAAmB,UAA1B;AACD,CAvCW,CAAZ,EAyCA;;AACArB,MAAM,CAACsB,IAAP,CAAYJ,EAAZ,EAAgBK,OAAhB,CAAwBF,GAAG,IAAI;AAC7B,MAAIA,GAAG,KAAK,UAAZ,EAAwB;AACtB;AACA;AACA;AACD;;AACD1B,EAAAA,OAAO,CAAC0B,GAAD,CAAP,GAAeH,EAAE,CAACG,GAAD,CAAjB;AACD,CAPD,GASA;;AACAF,GAAG,CAACI,OAAJ,CAAYC,MAAM,IAAI;AACpB7B,EAAAA,OAAO,CAAC6B,MAAD,CAAP,GAAkBR,CAAC,CAACE,EAAE,CAACM,MAAD,CAAH,CAAnB;AACD,CAFD,GAIA;AACA;;AACA7B,OAAO,CAAC8B,MAAR,GAAiB,UAAUC,QAAV,EAAoBC,QAApB,EAA8B;AAC7C,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,WAAOT,EAAE,CAACO,MAAH,CAAUC,QAAV,EAAoBC,QAApB,CAAP;AACD;;AACD,SAAO,IAAItB,OAAJ,CAAYC,OAAO,IAAI;AAC5B,WAAOY,EAAE,CAACO,MAAH,CAAUC,QAAV,EAAoBpB,OAApB,CAAP;AACD,GAFM,CAAP;AAGD,CAPD,EASA;;;AAEAX,OAAO,CAACiC,IAAR,GAAe,UAAUC,EAAV,EAAcC,MAAd,EAAsBC,MAAtB,EAA8B5B,MAA9B,EAAsC6B,QAAtC,EAAgDL,QAAhD,EAA0D;AACvE,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,WAAOT,EAAE,CAACU,IAAH,CAAQC,EAAR,EAAYC,MAAZ,EAAoBC,MAApB,EAA4B5B,MAA5B,EAAoC6B,QAApC,EAA8CL,QAA9C,CAAP;AACD;;AACD,SAAO,IAAItB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCW,IAAAA,EAAE,CAACU,IAAH,CAAQC,EAAR,EAAYC,MAAZ,EAAoBC,MAApB,EAA4B5B,MAA5B,EAAoC6B,QAApC,EAA8C,CAACxB,GAAD,EAAMyB,SAAN,EAAiBH,MAAjB,KAA4B;AACxE,UAAItB,GAAJ,EAAS,OAAOD,MAAM,CAACC,GAAD,CAAb;AACTF,MAAAA,OAAO,CAAC;AAAE2B,QAAAA,SAAF;AAAaH,QAAAA;AAAb,OAAD,CAAP;AACD,KAHD;AAID,GALM,CAAP;AAMD,CAVD,EAYA;AACA;AACA;AACA;AACA;;;AACAnC,OAAO,CAACuC,KAAR,GAAgB,UAAUL,EAAV,EAAcC,MAAd,EAAsB,GAAGK,IAAzB,EAA+B;AAC7C,MAAI,OAAOA,IAAI,CAACA,IAAI,CAAChC,MAAL,GAAc,CAAf,CAAX,KAAiC,UAArC,EAAiD;AAC/C,WAAOe,EAAE,CAACgB,KAAH,CAASL,EAAT,EAAaC,MAAb,EAAqB,GAAGK,IAAxB,CAAP;AACD;;AAED,SAAO,IAAI9B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCW,IAAAA,EAAE,CAACgB,KAAH,CAASL,EAAT,EAAaC,MAAb,EAAqB,GAAGK,IAAxB,EAA8B,CAAC3B,GAAD,EAAM4B,YAAN,EAAoBN,MAApB,KAA+B;AAC3D,UAAItB,GAAJ,EAAS,OAAOD,MAAM,CAACC,GAAD,CAAb;AACTF,MAAAA,OAAO,CAAC;AAAE8B,QAAAA,YAAF;AAAgBN,QAAAA;AAAhB,OAAD,CAAP;AACD,KAHD;AAID,GALM,CAAP;AAMD,CAXD,EAaA;;;AACA,IAAI,OAAOZ,EAAE,CAACmB,QAAH,CAAYC,MAAnB,KAA8B,UAAlC,EAA8C;AAC5C3C,EAAAA,OAAO,CAAC0C,QAAR,CAAiBC,MAAjB,GAA0BtB,CAAC,CAACE,EAAE,CAACmB,QAAH,CAAYC,MAAb,CAA3B;AACD;;AC5GD;;AAEA,MAAMrD,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB,EAEA;;;AACA,SAASsB,WAAT,CAAsBC,CAAtB,EAAyB;AACvBA,EAAAA,CAAC,GAAGvD,IAAI,CAACwD,SAAL,CAAexD,IAAI,CAACqB,OAAL,CAAakC,CAAb,CAAf,EAAgCE,KAAhC,CAAsCzD,IAAI,CAAC0D,GAA3C,CAAJ;AACA,MAAIH,CAAC,CAACrC,MAAF,GAAW,CAAf,EAAkB,OAAOqC,CAAC,CAAC,CAAD,CAAR;AAClB,SAAO,IAAP;AACD,EAED;AACA;;;AACA,MAAMI,kBAAkB,GAAG,WAA3B;;AAEA,SAASC,gBAAT,CAA2BL,CAA3B,EAA8B;AAC5B,QAAMM,EAAE,GAAGP,WAAW,CAACC,CAAD,CAAtB;AACAA,EAAAA,CAAC,GAAGA,CAAC,CAACO,OAAF,CAAUD,EAAV,EAAc,EAAd,CAAJ;AACA,SAAOF,kBAAkB,CAACI,IAAnB,CAAwBR,CAAxB,CAAP;AACD;;AAED9C,MAAM,CAACC,OAAP,GAAiB;AACf4C,EAAAA,WADe;AAEfM,EAAAA;AAFe,CAAjB;;ACrBA;;AAEA,MAAM3B,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM4B,gBAAgB,GAAG5B,OAAO,CAAC,SAAD,CAAP,CAAmB4B,gBAA5C;;AAEA,MAAMI,IAAI,GAAGC,QAAQ,CAAC,MAAD,EAAS,CAAT,CAArB;;AAEA,SAASC,MAAT,CAAiBX,CAAjB,EAAoBY,IAApB,EAA0BzB,QAA1B,EAAoC0B,IAApC,EAA0C;AACxC,MAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC9BzB,IAAAA,QAAQ,GAAGyB,IAAX;AACAA,IAAAA,IAAI,GAAG,EAAP;AACD,GAHD,MAGO,IAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AAC5CA,IAAAA,IAAI,GAAG;AAAEE,MAAAA,IAAI,EAAEF;AAAR,KAAP;AACD;;AAED,MAAIxD,OAAO,CAACC,QAAR,KAAqB,OAArB,IAAgCgD,gBAAgB,CAACL,CAAD,CAApD,EAAyD;AACvD,UAAMe,QAAQ,GAAG,IAAIC,KAAJ,CAAUhB,CAAC,GAAG,0CAAd,CAAjB;AACAe,IAAAA,QAAQ,CAACE,IAAT,GAAgB,QAAhB;AACA,WAAO9B,QAAQ,CAAC4B,QAAD,CAAf;AACD;;AAED,MAAID,IAAI,GAAGF,IAAI,CAACE,IAAhB;AACA,QAAMI,GAAG,GAAGN,IAAI,CAAClC,EAAL,IAAWA,EAAvB;;AAEA,MAAIoC,IAAI,KAAKK,SAAb,EAAwB;AACtBL,IAAAA,IAAI,GAAGL,IAAI,GAAI,CAACrD,OAAO,CAACgE,KAAR,EAAhB;AACD;;AACD,MAAI,CAACP,IAAL,EAAWA,IAAI,GAAG,IAAP;;AAEX1B,EAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAY,CAAE,CAArC;;AACAa,EAAAA,CAAC,GAAGvD,IAAI,CAACqB,OAAL,CAAakC,CAAb,CAAJ;AAEAkB,EAAAA,GAAG,CAACG,KAAJ,CAAUrB,CAAV,EAAac,IAAb,EAAmBQ,EAAE,IAAI;AACvB,QAAI,CAACA,EAAL,EAAS;AACPT,MAAAA,IAAI,GAAGA,IAAI,IAAIb,CAAf;AACA,aAAOb,QAAQ,CAAC,IAAD,EAAO0B,IAAP,CAAf;AACD;;AACD,YAAQS,EAAE,CAACL,IAAX;AACE,WAAK,QAAL;AACE,YAAIxE,IAAI,CAAC8E,OAAL,CAAavB,CAAb,MAAoBA,CAAxB,EAA2B,OAAOb,QAAQ,CAACmC,EAAD,CAAf;AAC3BX,QAAAA,MAAM,CAAClE,IAAI,CAAC8E,OAAL,CAAavB,CAAb,CAAD,EAAkBY,IAAlB,EAAwB,CAACU,EAAD,EAAKT,IAAL,KAAc;AAC1C,cAAIS,EAAJ,EAAQnC,QAAQ,CAACmC,EAAD,EAAKT,IAAL,CAAR,CAAR,KACKF,MAAM,CAACX,CAAD,EAAIY,IAAJ,EAAUzB,QAAV,EAAoB0B,IAApB,CAAN;AACN,SAHK,CAAN;AAIA;AAEF;AACA;AACA;;AACA;AACEK,QAAAA,GAAG,CAACM,IAAJ,CAASxB,CAAT,EAAY,CAACyB,GAAD,EAAMD,IAAN,KAAe;AACzB;AACA;AACA,cAAIC,GAAG,IAAI,CAACD,IAAI,CAACE,WAAL,EAAZ,EAAgCvC,QAAQ,CAACmC,EAAD,EAAKT,IAAL,CAAR,CAAhC,KACK1B,QAAQ,CAAC,IAAD,EAAO0B,IAAP,CAAR;AACN,SALD;AAMA;AAnBJ;AAqBD,GA1BD;AA2BD;;AAED3D,MAAM,CAACC,OAAP,GAAiBwD,MAAjB;;AC9DA;;AAEA,MAAMjC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM4B,gBAAgB,GAAG5B,OAAO,CAAC,SAAD,CAAP,CAAmB4B,gBAA5C;;AAEA,MAAMI,IAAI,GAAGC,QAAQ,CAAC,MAAD,EAAS,CAAT,CAArB;;AAEA,SAASiB,UAAT,CAAqB3B,CAArB,EAAwBY,IAAxB,EAA8BC,IAA9B,EAAoC;AAClC,MAAI,CAACD,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrCA,IAAAA,IAAI,GAAG;AAAEE,MAAAA,IAAI,EAAEF;AAAR,KAAP;AACD;;AAED,MAAIE,IAAI,GAAGF,IAAI,CAACE,IAAhB;AACA,QAAMI,GAAG,GAAGN,IAAI,CAAClC,EAAL,IAAWA,EAAvB;;AAEA,MAAItB,OAAO,CAACC,QAAR,KAAqB,OAArB,IAAgCgD,gBAAgB,CAACL,CAAD,CAApD,EAAyD;AACvD,UAAMe,QAAQ,GAAG,IAAIC,KAAJ,CAAUhB,CAAC,GAAG,0CAAd,CAAjB;AACAe,IAAAA,QAAQ,CAACE,IAAT,GAAgB,QAAhB;AACA,UAAMF,QAAN;AACD;;AAED,MAAID,IAAI,KAAKK,SAAb,EAAwB;AACtBL,IAAAA,IAAI,GAAGL,IAAI,GAAI,CAACrD,OAAO,CAACgE,KAAR,EAAhB;AACD;;AACD,MAAI,CAACP,IAAL,EAAWA,IAAI,GAAG,IAAP;AAEXb,EAAAA,CAAC,GAAGvD,IAAI,CAACqB,OAAL,CAAakC,CAAb,CAAJ;;AAEA,MAAI;AACFkB,IAAAA,GAAG,CAACU,SAAJ,CAAc5B,CAAd,EAAiBc,IAAjB;AACAD,IAAAA,IAAI,GAAGA,IAAI,IAAIb,CAAf;AACD,GAHD,CAGE,OAAO6B,IAAP,EAAa;AACb,QAAIA,IAAI,CAACZ,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAIxE,IAAI,CAAC8E,OAAL,CAAavB,CAAb,MAAoBA,CAAxB,EAA2B,MAAM6B,IAAN;AAC3BhB,MAAAA,IAAI,GAAGc,UAAU,CAAClF,IAAI,CAAC8E,OAAL,CAAavB,CAAb,CAAD,EAAkBY,IAAlB,EAAwBC,IAAxB,CAAjB;AACAc,MAAAA,UAAU,CAAC3B,CAAD,EAAIY,IAAJ,EAAUC,IAAV,CAAV;AACD,KAJD,MAIO;AACL;AACA;AACA,UAAIW,IAAJ;;AACA,UAAI;AACFA,QAAAA,IAAI,GAAGN,GAAG,CAACY,QAAJ,CAAa9B,CAAb,CAAP;AACD,OAFD,CAEE,OAAO+B,IAAP,EAAa;AACb,cAAMF,IAAN;AACD;;AACD,UAAI,CAACL,IAAI,CAACE,WAAL,EAAL,EAAyB,MAAMG,IAAN;AAC1B;AACF;;AAED,SAAOhB,IAAP;AACD;;AAED3D,MAAM,CAACC,OAAP,GAAiBwE,UAAjB;;ACrDA;;AACA,MAAMnD,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAMqD,MAAM,GAAGnC,CAAC,CAACC,OAAO,CAAC,UAAD,CAAR,CAAhB;;AACA,MAAMkD,UAAU,GAAGlD,OAAO,CAAC,eAAD,CAA1B;;AAEAvB,MAAM,CAACC,OAAP,GAAiB;AACfwD,EAAAA,MADe;AAEfgB,EAAAA,UAFe;AAGf;AACAK,EAAAA,MAAM,EAAErB,MAJO;AAKfsB,EAAAA,UAAU,EAAEN,UALG;AAMfO,EAAAA,SAAS,EAAEvB,MANI;AAOfwB,EAAAA,aAAa,EAAER;AAPA,CAAjB;;ACLA;;AAEA,MAAMjD,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAM2D,EAAE,GAAG3D,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB,EAEA;;;AACA,SAAS4D,gBAAT,GAA6B;AAC3B,MAAIC,OAAO,GAAG7F,IAAI,CAAC8F,IAAL,CAAU,qBAAqBC,IAAI,CAACC,GAAL,GAAWC,QAAX,EAArB,GAA6CC,IAAI,CAACC,MAAL,GAAcF,QAAd,GAAyBG,KAAzB,CAA+B,CAA/B,CAAvD,CAAd;AACAP,EAAAA,OAAO,GAAG7F,IAAI,CAAC8F,IAAL,CAAUH,EAAE,CAACU,MAAH,EAAV,EAAuBR,OAAvB,CAAV,CAF2B,CAI3B;;AACA,QAAMS,CAAC,GAAG,IAAIP,IAAJ,CAAS,aAAT,CAAV;AACA9D,EAAAA,EAAE,CAACsE,aAAH,CAAiBV,OAAjB,EAA0B,wDAA1B;AACA,QAAMjD,EAAE,GAAGX,EAAE,CAACuE,QAAH,CAAYX,OAAZ,EAAqB,IAArB,CAAX;AACA5D,EAAAA,EAAE,CAACwE,WAAH,CAAe7D,EAAf,EAAmB0D,CAAnB,EAAsBA,CAAtB;AACArE,EAAAA,EAAE,CAACyE,SAAH,CAAa9D,EAAb;AACA,SAAOX,EAAE,CAACoD,QAAH,CAAYQ,OAAZ,EAAqBc,KAArB,GAA6B,aAApC;AACD;;AAED,SAASC,YAAT,CAAuBlE,QAAvB,EAAiC;AAC/B,MAAImD,OAAO,GAAG7F,IAAI,CAAC8F,IAAL,CAAU,gBAAgBC,IAAI,CAACC,GAAL,GAAWC,QAAX,EAAhB,GAAwCC,IAAI,CAACC,MAAL,GAAcF,QAAd,GAAyBG,KAAzB,CAA+B,CAA/B,CAAlD,CAAd;AACAP,EAAAA,OAAO,GAAG7F,IAAI,CAAC8F,IAAL,CAAUH,EAAE,CAACU,MAAH,EAAV,EAAuBR,OAAvB,CAAV,CAF+B,CAI/B;;AACA,QAAMS,CAAC,GAAG,IAAIP,IAAJ,CAAS,aAAT,CAAV;AACA9D,EAAAA,EAAE,CAAC4E,SAAH,CAAahB,OAAb,EAAsB,wDAAtB,EAAgFtE,GAAG,IAAI;AACrF,QAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTU,IAAAA,EAAE,CAAC6E,IAAH,CAAQjB,OAAR,EAAiB,IAAjB,EAAuB,CAACtE,GAAD,EAAMqB,EAAN,KAAa;AAClC,UAAIrB,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTU,MAAAA,EAAE,CAAC8E,OAAH,CAAWnE,EAAX,EAAe0D,CAAf,EAAkBA,CAAlB,EAAqB/E,GAAG,IAAI;AAC1B,YAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTU,QAAAA,EAAE,CAAC+E,KAAH,CAASpE,EAAT,EAAarB,GAAG,IAAI;AAClB,cAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTU,UAAAA,EAAE,CAAC8C,IAAH,CAAQc,OAAR,EAAiB,CAACtE,GAAD,EAAM0F,KAAN,KAAgB;AAC/B,gBAAI1F,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTmB,YAAAA,QAAQ,CAAC,IAAD,EAAOuE,KAAK,CAACN,KAAN,GAAc,aAArB,CAAR;AACD,WAHD;AAID,SAND;AAOD,OATD;AAUD,KAZD;AAaD,GAfD;AAgBD;;AAED,SAASO,gBAAT,CAA2BC,SAA3B,EAAsC;AACpC,MAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;AACjC,WAAOjB,IAAI,CAACkB,KAAL,CAAWD,SAAS,GAAG,IAAvB,IAA+B,IAAtC;AACD,GAFD,MAEO,IAAIA,SAAS,YAAYpB,IAAzB,EAA+B;AACpC,WAAO,IAAIA,IAAJ,CAASG,IAAI,CAACkB,KAAL,CAAWD,SAAS,CAACE,OAAV,KAAsB,IAAjC,IAAyC,IAAlD,CAAP;AACD,GAFM,MAEA;AACL,UAAM,IAAI9C,KAAJ,CAAU,qDAAV,CAAN;AACD;AACF;;AAED,SAAS+C,YAAT,CAAuBtH,IAAvB,EAA6BuH,KAA7B,EAAoCZ,KAApC,EAA2CjE,QAA3C,EAAqD;AACnD;AACAT,EAAAA,EAAE,CAAC6E,IAAH,CAAQ9G,IAAR,EAAc,IAAd,EAAoB,CAACuB,GAAD,EAAMqB,EAAN,KAAa;AAC/B,QAAIrB,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTU,IAAAA,EAAE,CAAC8E,OAAH,CAAWnE,EAAX,EAAe2E,KAAf,EAAsBZ,KAAtB,EAA6Ba,UAAU,IAAI;AACzCvF,MAAAA,EAAE,CAAC+E,KAAH,CAASpE,EAAT,EAAa6E,QAAQ,IAAI;AACvB,YAAI/E,QAAJ,EAAcA,QAAQ,CAAC8E,UAAU,IAAIC,QAAf,CAAR;AACf,OAFD;AAGD,KAJD;AAKD,GAPD;AAQD;;AAED,SAASC,gBAAT,CAA2B1H,IAA3B,EAAiCuH,KAAjC,EAAwCZ,KAAxC,EAA+C;AAC7C,QAAM/D,EAAE,GAAGX,EAAE,CAACuE,QAAH,CAAYxG,IAAZ,EAAkB,IAAlB,CAAX;AACAiC,EAAAA,EAAE,CAACwE,WAAH,CAAe7D,EAAf,EAAmB2E,KAAnB,EAA0BZ,KAA1B;AACA,SAAO1E,EAAE,CAACyE,SAAH,CAAa9D,EAAb,CAAP;AACD;;AAEDnC,MAAM,CAACC,OAAP,GAAiB;AACfkG,EAAAA,YADe;AAEfhB,EAAAA,gBAFe;AAGfsB,EAAAA,gBAHe;AAIfI,EAAAA,YAJe;AAKfI,EAAAA;AALe,CAAjB;;ACxEA;;AAEA,MAAMzF,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAM2F,8BAA8B,GAAG,EAAvC;AACA,MAAMC,8BAA8B,GAAG,CAAvC;AACA,MAAMC,8BAA8B,GAAG,CAAvC;AACA,MAAMC,WAAW,GAAGnH,OAAO,CAACoH,QAAR,CAAiBC,IAAjB,CAAsBvE,KAAtB,CAA4B,GAA5B,CAApB;AACA,MAAMwE,gBAAgB,GAAGC,MAAM,CAACjE,QAAP,CAAgB6D,WAAW,CAAC,CAAD,CAA3B,EAAgC,EAAhC,CAAzB;AACA,MAAMK,gBAAgB,GAAGD,MAAM,CAACjE,QAAP,CAAgB6D,WAAW,CAAC,CAAD,CAA3B,EAAgC,EAAhC,CAAzB;AACA,MAAMM,gBAAgB,GAAGF,MAAM,CAACjE,QAAP,CAAgB6D,WAAW,CAAC,CAAD,CAA3B,EAAgC,EAAhC,CAAzB;;AAEA,SAASO,kBAAT,GAA+B;AAC7B,MAAIJ,gBAAgB,GAAGN,8BAAvB,EAAuD;AACrD,WAAO,IAAP;AACD,GAFD,MAEO,IAAIM,gBAAgB,KAAKN,8BAAzB,EAAyD;AAC9D,QAAIQ,gBAAgB,GAAGP,8BAAvB,EAAuD;AACrD,aAAO,IAAP;AACD,KAFD,MAEO,IAAIO,gBAAgB,KAAKP,8BAAzB,EAAyD;AAC9D,UAAIQ,gBAAgB,IAAIP,8BAAxB,EAAwD;AACtD,eAAO,IAAP;AACD;AACF;AACF;;AACD,SAAO,KAAP;AACD;;AAED,SAASS,QAAT,CAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B5G,EAA9B,EAAkC;AAChC,MAAIyG,kBAAkB,EAAtB,EAA0B;AACxBpG,IAAAA,EAAE,CAAC8C,IAAH,CAAQwD,GAAR,EAAa;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAAb,EAA+B,CAAClH,GAAD,EAAMmH,OAAN,KAAkB;AAC/C,UAAInH,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACTU,MAAAA,EAAE,CAAC8C,IAAH,CAAQyD,IAAR,EAAc;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAd,EAAgC,CAAClH,GAAD,EAAMoH,QAAN,KAAmB;AACjD,YAAIpH,GAAJ,EAAS;AACP,cAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAjB,EAA2B,OAAO5C,EAAE,CAAC,IAAD,EAAO;AAAE8G,YAAAA,OAAF;AAAWC,YAAAA,QAAQ,EAAE;AAArB,WAAP,CAAT;AAC3B,iBAAO/G,EAAE,CAACL,GAAD,CAAT;AACD;;AACD,eAAOK,EAAE,CAAC,IAAD,EAAO;AAAE8G,UAAAA,OAAF;AAAWC,UAAAA;AAAX,SAAP,CAAT;AACD,OAND;AAOD,KATD;AAUD,GAXD,MAWO;AACL1G,IAAAA,EAAE,CAAC8C,IAAH,CAAQwD,GAAR,EAAa,CAAChH,GAAD,EAAMmH,OAAN,KAAkB;AAC7B,UAAInH,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACTU,MAAAA,EAAE,CAAC8C,IAAH,CAAQyD,IAAR,EAAc,CAACjH,GAAD,EAAMoH,QAAN,KAAmB;AAC/B,YAAIpH,GAAJ,EAAS;AACP,cAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAjB,EAA2B,OAAO5C,EAAE,CAAC,IAAD,EAAO;AAAE8G,YAAAA,OAAF;AAAWC,YAAAA,QAAQ,EAAE;AAArB,WAAP,CAAT;AAC3B,iBAAO/G,EAAE,CAACL,GAAD,CAAT;AACD;;AACD,eAAOK,EAAE,CAAC,IAAD,EAAO;AAAE8G,UAAAA,OAAF;AAAWC,UAAAA;AAAX,SAAP,CAAT;AACD,OAND;AAOD,KATD;AAUD;AACF;;AAED,SAASC,YAAT,CAAuBL,GAAvB,EAA4BC,IAA5B,EAAkC;AAChC,MAAIE,OAAJ,EAAaC,QAAb;;AACA,MAAIN,kBAAkB,EAAtB,EAA0B;AACxBK,IAAAA,OAAO,GAAGzG,EAAE,CAACoD,QAAH,CAAYkD,GAAZ,EAAiB;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAAjB,CAAV;AACD,GAFD,MAEO;AACLC,IAAAA,OAAO,GAAGzG,EAAE,CAACoD,QAAH,CAAYkD,GAAZ,CAAV;AACD;;AACD,MAAI;AACF,QAAIF,kBAAkB,EAAtB,EAA0B;AACxBM,MAAAA,QAAQ,GAAG1G,EAAE,CAACoD,QAAH,CAAYmD,IAAZ,EAAkB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAlB,CAAX;AACD,KAFD,MAEO;AACLE,MAAAA,QAAQ,GAAG1G,EAAE,CAACoD,QAAH,CAAYmD,IAAZ,CAAX;AACD;AACF,GAND,CAME,OAAOjH,GAAP,EAAY;AACZ,QAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAjB,EAA2B,OAAO;AAAEkE,MAAAA,OAAF;AAAWC,MAAAA,QAAQ,EAAE;AAArB,KAAP;AAC3B,UAAMpH,GAAN;AACD;;AACD,SAAO;AAAEmH,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAP;AACD;;AAED,SAASE,UAAT,CAAqBN,GAArB,EAA0BC,IAA1B,EAAgCM,QAAhC,EAA0ClH,EAA1C,EAA8C;AAC5C0G,EAAAA,QAAQ,CAACC,GAAD,EAAMC,IAAN,EAAY,CAACjH,GAAD,EAAM0F,KAAN,KAAgB;AAClC,QAAI1F,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,UAAM;AAAEmH,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAwB1B,KAA9B;;AACA,QAAI0B,QAAQ,IAAIA,QAAQ,CAACI,GAArB,IAA4BJ,QAAQ,CAACK,GAArC,IAA4CL,QAAQ,CAACI,GAAT,KAAiBL,OAAO,CAACK,GAArE,IAA4EJ,QAAQ,CAACK,GAAT,KAAiBN,OAAO,CAACM,GAAzG,EAA8G;AAC5G,aAAOpH,EAAE,CAAC,IAAI2C,KAAJ,CAAU,8CAAV,CAAD,CAAT;AACD;;AACD,QAAImE,OAAO,CAACzD,WAAR,MAAyBgE,WAAW,CAACV,GAAD,EAAMC,IAAN,CAAxC,EAAqD;AACnD,aAAO5G,EAAE,CAAC,IAAI2C,KAAJ,CAAU2E,MAAM,CAACX,GAAD,EAAMC,IAAN,EAAYM,QAAZ,CAAhB,CAAD,CAAT;AACD;;AACD,WAAOlH,EAAE,CAAC,IAAD,EAAO;AAAE8G,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAP,CAAT;AACD,GAVO,CAAR;AAWD;;AAED,SAASQ,cAAT,CAAyBZ,GAAzB,EAA8BC,IAA9B,EAAoCM,QAApC,EAA8C;AAC5C,QAAM;AAAEJ,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAwBC,YAAY,CAACL,GAAD,EAAMC,IAAN,CAA1C;;AACA,MAAIG,QAAQ,IAAIA,QAAQ,CAACI,GAArB,IAA4BJ,QAAQ,CAACK,GAArC,IAA4CL,QAAQ,CAACI,GAAT,KAAiBL,OAAO,CAACK,GAArE,IAA4EJ,QAAQ,CAACK,GAAT,KAAiBN,OAAO,CAACM,GAAzG,EAA8G;AAC5G,UAAM,IAAIzE,KAAJ,CAAU,8CAAV,CAAN;AACD;;AACD,MAAImE,OAAO,CAACzD,WAAR,MAAyBgE,WAAW,CAACV,GAAD,EAAMC,IAAN,CAAxC,EAAqD;AACnD,UAAM,IAAIjE,KAAJ,CAAU2E,MAAM,CAACX,GAAD,EAAMC,IAAN,EAAYM,QAAZ,CAAhB,CAAN;AACD;;AACD,SAAO;AAAEJ,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAP;AACD,EAED;AACA;AACA;AACA;;;AACA,SAASS,gBAAT,CAA2Bb,GAA3B,EAAgCG,OAAhC,EAAyCF,IAAzC,EAA+CM,QAA/C,EAAyDlH,EAAzD,EAA6D;AAC3D,QAAMyH,SAAS,GAAGrJ,IAAI,CAACqB,OAAL,CAAarB,IAAI,CAAC8E,OAAL,CAAayD,GAAb,CAAb,CAAlB;AACA,QAAMe,UAAU,GAAGtJ,IAAI,CAACqB,OAAL,CAAarB,IAAI,CAAC8E,OAAL,CAAa0D,IAAb,CAAb,CAAnB;AACA,MAAIc,UAAU,KAAKD,SAAf,IAA4BC,UAAU,KAAKtJ,IAAI,CAACuJ,KAAL,CAAWD,UAAX,EAAuBE,IAAtE,EAA4E,OAAO5H,EAAE,EAAT;;AAC5E,MAAIyG,kBAAkB,EAAtB,EAA0B;AACxBpG,IAAAA,EAAE,CAAC8C,IAAH,CAAQuE,UAAR,EAAoB;AAAEb,MAAAA,MAAM,EAAE;AAAV,KAApB,EAAsC,CAAClH,GAAD,EAAMoH,QAAN,KAAmB;AACvD,UAAIpH,GAAJ,EAAS;AACP,YAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAjB,EAA2B,OAAO5C,EAAE,EAAT;AAC3B,eAAOA,EAAE,CAACL,GAAD,CAAT;AACD;;AACD,UAAIoH,QAAQ,CAACI,GAAT,IAAgBJ,QAAQ,CAACK,GAAzB,IAAgCL,QAAQ,CAACI,GAAT,KAAiBL,OAAO,CAACK,GAAzD,IAAgEJ,QAAQ,CAACK,GAAT,KAAiBN,OAAO,CAACM,GAA7F,EAAkG;AAChG,eAAOpH,EAAE,CAAC,IAAI2C,KAAJ,CAAU2E,MAAM,CAACX,GAAD,EAAMC,IAAN,EAAYM,QAAZ,CAAhB,CAAD,CAAT;AACD;;AACD,aAAOM,gBAAgB,CAACb,GAAD,EAAMG,OAAN,EAAeY,UAAf,EAA2BR,QAA3B,EAAqClH,EAArC,CAAvB;AACD,KATD;AAUD,GAXD,MAWO;AACLK,IAAAA,EAAE,CAAC8C,IAAH,CAAQuE,UAAR,EAAoB,CAAC/H,GAAD,EAAMoH,QAAN,KAAmB;AACrC,UAAIpH,GAAJ,EAAS;AACP,YAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAjB,EAA2B,OAAO5C,EAAE,EAAT;AAC3B,eAAOA,EAAE,CAACL,GAAD,CAAT;AACD;;AACD,UAAIoH,QAAQ,CAACI,GAAT,IAAgBJ,QAAQ,CAACK,GAAzB,IAAgCL,QAAQ,CAACI,GAAT,KAAiBL,OAAO,CAACK,GAAzD,IAAgEJ,QAAQ,CAACK,GAAT,KAAiBN,OAAO,CAACM,GAA7F,EAAkG;AAChG,eAAOpH,EAAE,CAAC,IAAI2C,KAAJ,CAAU2E,MAAM,CAACX,GAAD,EAAMC,IAAN,EAAYM,QAAZ,CAAhB,CAAD,CAAT;AACD;;AACD,aAAOM,gBAAgB,CAACb,GAAD,EAAMG,OAAN,EAAeY,UAAf,EAA2BR,QAA3B,EAAqClH,EAArC,CAAvB;AACD,KATD;AAUD;AACF;;AAED,SAAS6H,oBAAT,CAA+BlB,GAA/B,EAAoCG,OAApC,EAA6CF,IAA7C,EAAmDM,QAAnD,EAA6D;AAC3D,QAAMO,SAAS,GAAGrJ,IAAI,CAACqB,OAAL,CAAarB,IAAI,CAAC8E,OAAL,CAAayD,GAAb,CAAb,CAAlB;AACA,QAAMe,UAAU,GAAGtJ,IAAI,CAACqB,OAAL,CAAarB,IAAI,CAAC8E,OAAL,CAAa0D,IAAb,CAAb,CAAnB;AACA,MAAIc,UAAU,KAAKD,SAAf,IAA4BC,UAAU,KAAKtJ,IAAI,CAACuJ,KAAL,CAAWD,UAAX,EAAuBE,IAAtE,EAA4E;AAC5E,MAAIb,QAAJ;;AACA,MAAI;AACF,QAAIN,kBAAkB,EAAtB,EAA0B;AACxBM,MAAAA,QAAQ,GAAG1G,EAAE,CAACoD,QAAH,CAAYiE,UAAZ,EAAwB;AAAEb,QAAAA,MAAM,EAAE;AAAV,OAAxB,CAAX;AACD,KAFD,MAEO;AACLE,MAAAA,QAAQ,GAAG1G,EAAE,CAACoD,QAAH,CAAYiE,UAAZ,CAAX;AACD;AACF,GAND,CAME,OAAO/H,GAAP,EAAY;AACZ,QAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAjB,EAA2B;AAC3B,UAAMjD,GAAN;AACD;;AACD,MAAIoH,QAAQ,CAACI,GAAT,IAAgBJ,QAAQ,CAACK,GAAzB,IAAgCL,QAAQ,CAACI,GAAT,KAAiBL,OAAO,CAACK,GAAzD,IAAgEJ,QAAQ,CAACK,GAAT,KAAiBN,OAAO,CAACM,GAA7F,EAAkG;AAChG,UAAM,IAAIzE,KAAJ,CAAU2E,MAAM,CAACX,GAAD,EAAMC,IAAN,EAAYM,QAAZ,CAAhB,CAAN;AACD;;AACD,SAAOW,oBAAoB,CAAClB,GAAD,EAAMG,OAAN,EAAeY,UAAf,EAA2BR,QAA3B,CAA3B;AACD,EAED;AACA;;;AACA,SAASG,WAAT,CAAsBV,GAAtB,EAA2BC,IAA3B,EAAiC;AAC/B,QAAMkB,MAAM,GAAG1J,IAAI,CAACqB,OAAL,CAAakH,GAAb,EAAkB9E,KAAlB,CAAwBzD,IAAI,CAAC0D,GAA7B,EAAkCvB,MAAlC,CAAyCwH,CAAC,IAAIA,CAA9C,CAAf;AACA,QAAMC,OAAO,GAAG5J,IAAI,CAACqB,OAAL,CAAamH,IAAb,EAAmB/E,KAAnB,CAAyBzD,IAAI,CAAC0D,GAA9B,EAAmCvB,MAAnC,CAA0CwH,CAAC,IAAIA,CAA/C,CAAhB;AACA,SAAOD,MAAM,CAACG,MAAP,CAAc,CAACC,GAAD,EAAMC,GAAN,EAAWJ,CAAX,KAAiBG,GAAG,IAAIF,OAAO,CAACD,CAAD,CAAP,KAAeI,GAArD,EAA0D,IAA1D,CAAP;AACD;;AAED,SAASb,MAAT,CAAiBX,GAAjB,EAAsBC,IAAtB,EAA4BM,QAA5B,EAAsC;AACpC,SAAQ,UAASA,QAAS,KAAIP,GAAI,mCAAkCC,IAAK,IAAzE;AACD;;AAED/H,MAAM,CAACC,OAAP,GAAiB;AACfmI,EAAAA,UADe;AAEfM,EAAAA,cAFe;AAGfC,EAAAA,gBAHe;AAIfK,EAAAA,oBAJe;AAKfR,EAAAA;AALe,CAAjB;;ACrKA;AACA;;AACAxI,MAAM,CAACC,OAAP,GAAiB,UAAUsJ,IAAV,EAAgB;AAC/B,MAAI,OAAOC,MAAM,CAACC,WAAd,KAA8B,UAAlC,EAA8C;AAC5C,QAAI;AACF,aAAOD,MAAM,CAACC,WAAP,CAAmBF,IAAnB,CAAP;AACD,KAFD,CAEE,OAAOG,CAAP,EAAU;AACV,aAAO,IAAIF,MAAJ,CAAWD,IAAX,CAAP;AACD;AACF;;AACD,SAAO,IAAIC,MAAJ,CAAWD,IAAX,CAAP;AACD,CATD;;ACFA;;AAEA,MAAM/H,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMwD,UAAU,GAAGxD,OAAO,CAAC,WAAD,CAAP,CAAqBkD,UAAxC;;AACA,MAAMkF,UAAU,GAAGpI,OAAO,CAAC,mBAAD,CAAP,CAA6B0F,gBAAhD;;AACA,MAAM3C,IAAI,GAAG/C,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASqI,QAAT,CAAmB9B,GAAnB,EAAwBC,IAAxB,EAA8BrE,IAA9B,EAAoC;AAClC,MAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AAC9BA,IAAAA,IAAI,GAAG;AAAEhC,MAAAA,MAAM,EAAEgC;AAAV,KAAP;AACD;;AAEDA,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AACAA,EAAAA,IAAI,CAACmG,OAAL,GAAe,aAAanG,IAAb,GAAoB,CAAC,CAACA,IAAI,CAACmG,OAA3B,GAAqC,IAApD,CANkC,CAMuB;;AACzDnG,EAAAA,IAAI,CAACoG,SAAL,GAAiB,eAAepG,IAAf,GAAsB,CAAC,CAACA,IAAI,CAACoG,SAA7B,GAAyCpG,IAAI,CAACmG,OAA/D,CAPkC,CAOqC;AAEvE;;AACA,MAAInG,IAAI,CAACqG,kBAAL,IAA2B7J,OAAO,CAAC8J,IAAR,KAAiB,MAAhD,EAAwD;AACtDC,IAAAA,OAAO,CAACC,IAAR,CAAc;iEAAd;AAED;;AAED,QAAM;AAAEjC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAwB5D,IAAI,CAACoE,cAAL,CAAoBZ,GAApB,EAAyBC,IAAzB,EAA+B,MAA/B,CAA9B;AACAzD,EAAAA,IAAI,CAAC0E,oBAAL,CAA0BlB,GAA1B,EAA+BG,OAA/B,EAAwCF,IAAxC,EAA8C,MAA9C;AACA,SAAOoC,mBAAmB,CAACjC,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,CAA1B;AACD;;AAED,SAASyG,mBAAT,CAA8BjC,QAA9B,EAAwCJ,GAAxC,EAA6CC,IAA7C,EAAmDrE,IAAnD,EAAyD;AACvD,MAAIA,IAAI,CAAChC,MAAL,IAAe,CAACgC,IAAI,CAAChC,MAAL,CAAYoG,GAAZ,EAAiBC,IAAjB,CAApB,EAA4C;AAC5C,QAAMc,UAAU,GAAGtJ,IAAI,CAAC8E,OAAL,CAAa0D,IAAb,CAAnB;AACA,MAAI,CAACvG,EAAE,CAAC4I,UAAH,CAAcvB,UAAd,CAAL,EAAgC9D,UAAU,CAAC8D,UAAD,CAAV;AAChC,SAAOwB,SAAS,CAACnC,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,CAAhB;AACD;;AAED,SAAS2G,SAAT,CAAoBnC,QAApB,EAA8BJ,GAA9B,EAAmCC,IAAnC,EAAyCrE,IAAzC,EAA+C;AAC7C,MAAIA,IAAI,CAAChC,MAAL,IAAe,CAACgC,IAAI,CAAChC,MAAL,CAAYoG,GAAZ,EAAiBC,IAAjB,CAApB,EAA4C;AAC5C,SAAOF,QAAQ,CAACK,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,CAAf;AACD;;AAED,SAASmE,QAAT,CAAmBK,QAAnB,EAA6BJ,GAA7B,EAAkCC,IAAlC,EAAwCrE,IAAxC,EAA8C;AAC5C,QAAMkB,QAAQ,GAAGlB,IAAI,CAAC4G,WAAL,GAAmB9I,EAAE,CAACoD,QAAtB,GAAiCpD,EAAE,CAAC+I,SAArD;AACA,QAAMtC,OAAO,GAAGrD,QAAQ,CAACkD,GAAD,CAAxB;AAEA,MAAIG,OAAO,CAACzD,WAAR,EAAJ,EAA2B,OAAOgG,KAAK,CAACvC,OAAD,EAAUC,QAAV,EAAoBJ,GAApB,EAAyBC,IAAzB,EAA+BrE,IAA/B,CAAZ,CAA3B,KACK,IAAIuE,OAAO,CAACwC,MAAR,MACAxC,OAAO,CAACyC,iBAAR,EADA,IAEAzC,OAAO,CAAC0C,aAAR,EAFJ,EAE6B,OAAOC,MAAM,CAAC3C,OAAD,EAAUC,QAAV,EAAoBJ,GAApB,EAAyBC,IAAzB,EAA+BrE,IAA/B,CAAb,CAF7B,KAGA,IAAIuE,OAAO,CAAC4C,cAAR,EAAJ,EAA8B,OAAOC,MAAM,CAAC5C,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,CAAb;AACpC;;AAED,SAASkH,MAAT,CAAiB3C,OAAjB,EAA0BC,QAA1B,EAAoCJ,GAApC,EAAyCC,IAAzC,EAA+CrE,IAA/C,EAAqD;AACnD,MAAI,CAACwE,QAAL,EAAe,OAAO6C,QAAQ,CAAC9C,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,CAAf;AACf,SAAOsH,WAAW,CAAC/C,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,CAAlB;AACD;;AAED,SAASsH,WAAT,CAAsB/C,OAAtB,EAA+BH,GAA/B,EAAoCC,IAApC,EAA0CrE,IAA1C,EAAgD;AAC9C,MAAIA,IAAI,CAACoG,SAAT,EAAoB;AAClBtI,IAAAA,EAAE,CAACyJ,UAAH,CAAclD,IAAd;AACA,WAAOgD,QAAQ,CAAC9C,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,CAAf;AACD,GAHD,MAGO,IAAIA,IAAI,CAACwH,YAAT,EAAuB;AAC5B,UAAM,IAAIpH,KAAJ,CAAW,IAAGiE,IAAK,kBAAnB,CAAN;AACD;AACF;;AAED,SAASgD,QAAT,CAAmB9C,OAAnB,EAA4BH,GAA5B,EAAiCC,IAAjC,EAAuCrE,IAAvC,EAA6C;AAC3C,MAAI,OAAOlC,EAAE,CAAC2J,YAAV,KAA2B,UAA/B,EAA2C;AACzC3J,IAAAA,EAAE,CAAC2J,YAAH,CAAgBrD,GAAhB,EAAqBC,IAArB;AACAvG,IAAAA,EAAE,CAAC4J,SAAH,CAAarD,IAAb,EAAmBE,OAAO,CAACrE,IAA3B;;AACA,QAAIF,IAAI,CAACqG,kBAAT,EAA6B;AAC3B,aAAOJ,UAAU,CAAC5B,IAAD,EAAOE,OAAO,CAACnB,KAAf,EAAsBmB,OAAO,CAAC/B,KAA9B,CAAjB;AACD;;AACD;AACD;;AACD,SAAOmF,gBAAgB,CAACpD,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,CAAvB;AACD;;AAED,SAAS2H,gBAAT,CAA2BpD,OAA3B,EAAoCH,GAApC,EAAyCC,IAAzC,EAA+CrE,IAA/C,EAAqD;AACnD,QAAM4H,UAAU,GAAG,KAAK,IAAxB;;AACA,QAAMC,KAAK,GAAGhK,OAAO,CAAC,gBAAD,CAAP,CAA0B+J,UAA1B,CAAd;;AAEA,QAAME,GAAG,GAAGhK,EAAE,CAACuE,QAAH,CAAY+B,GAAZ,EAAiB,GAAjB,CAAZ;AACA,QAAM2D,GAAG,GAAGjK,EAAE,CAACuE,QAAH,CAAYgC,IAAZ,EAAkB,GAAlB,EAAuBE,OAAO,CAACrE,IAA/B,CAAZ;AACA,MAAI8H,GAAG,GAAG,CAAV;;AAEA,SAAOA,GAAG,GAAGzD,OAAO,CAACsB,IAArB,EAA2B;AACzB,UAAMhH,SAAS,GAAGf,EAAE,CAACmK,QAAH,CAAYH,GAAZ,EAAiBD,KAAjB,EAAwB,CAAxB,EAA2BD,UAA3B,EAAuCI,GAAvC,CAAlB;AACAlK,IAAAA,EAAE,CAACoK,SAAH,CAAaH,GAAb,EAAkBF,KAAlB,EAAyB,CAAzB,EAA4BhJ,SAA5B;AACAmJ,IAAAA,GAAG,IAAInJ,SAAP;AACD;;AAED,MAAImB,IAAI,CAACqG,kBAAT,EAA6BvI,EAAE,CAACwE,WAAH,CAAeyF,GAAf,EAAoBxD,OAAO,CAACnB,KAA5B,EAAmCmB,OAAO,CAAC/B,KAA3C;AAE7B1E,EAAAA,EAAE,CAACyE,SAAH,CAAauF,GAAb;AACAhK,EAAAA,EAAE,CAACyE,SAAH,CAAawF,GAAb;AACD;;AAED,SAASjB,KAAT,CAAgBvC,OAAhB,EAAyBC,QAAzB,EAAmCJ,GAAnC,EAAwCC,IAAxC,EAA8CrE,IAA9C,EAAoD;AAClD,MAAI,CAACwE,QAAL,EAAe,OAAO2D,YAAY,CAAC5D,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,CAAnB;;AACf,MAAIwE,QAAQ,IAAI,CAACA,QAAQ,CAAC1D,WAAT,EAAjB,EAAyC;AACvC,UAAM,IAAIV,KAAJ,CAAW,mCAAkCiE,IAAK,qBAAoBD,GAAI,IAA1E,CAAN;AACD;;AACD,SAAOgE,OAAO,CAAChE,GAAD,EAAMC,IAAN,EAAYrE,IAAZ,CAAd;AACD;;AAED,SAASmI,YAAT,CAAuB5D,OAAvB,EAAgCH,GAAhC,EAAqCC,IAArC,EAA2CrE,IAA3C,EAAiD;AAC/ClC,EAAAA,EAAE,CAACkD,SAAH,CAAaqD,IAAb;AACA+D,EAAAA,OAAO,CAAChE,GAAD,EAAMC,IAAN,EAAYrE,IAAZ,CAAP;AACA,SAAOlC,EAAE,CAAC4J,SAAH,CAAarD,IAAb,EAAmBE,OAAO,CAACrE,IAA3B,CAAP;AACD;;AAED,SAASkI,OAAT,CAAkBhE,GAAlB,EAAuBC,IAAvB,EAA6BrE,IAA7B,EAAmC;AACjClC,EAAAA,EAAE,CAACuK,WAAH,CAAejE,GAAf,EAAoBjG,OAApB,CAA4BmK,IAAI,IAAIC,WAAW,CAACD,IAAD,EAAOlE,GAAP,EAAYC,IAAZ,EAAkBrE,IAAlB,CAA/C;AACD;;AAED,SAASuI,WAAT,CAAsBD,IAAtB,EAA4BlE,GAA5B,EAAiCC,IAAjC,EAAuCrE,IAAvC,EAA6C;AAC3C,QAAMwI,OAAO,GAAG3M,IAAI,CAAC8F,IAAL,CAAUyC,GAAV,EAAekE,IAAf,CAAhB;AACA,QAAMG,QAAQ,GAAG5M,IAAI,CAAC8F,IAAL,CAAU0C,IAAV,EAAgBiE,IAAhB,CAAjB;AACA,QAAM;AAAE9D,IAAAA;AAAF,MAAe5D,IAAI,CAACoE,cAAL,CAAoBwD,OAApB,EAA6BC,QAA7B,EAAuC,MAAvC,CAArB;AACA,SAAO9B,SAAS,CAACnC,QAAD,EAAWgE,OAAX,EAAoBC,QAApB,EAA8BzI,IAA9B,CAAhB;AACD;;AAED,SAASoH,MAAT,CAAiB5C,QAAjB,EAA2BJ,GAA3B,EAAgCC,IAAhC,EAAsCrE,IAAtC,EAA4C;AAC1C,MAAI0I,WAAW,GAAG5K,EAAE,CAAC6K,YAAH,CAAgBvE,GAAhB,CAAlB;;AACA,MAAIpE,IAAI,CAAC4G,WAAT,EAAsB;AACpB8B,IAAAA,WAAW,GAAG7M,IAAI,CAACqB,OAAL,CAAaV,OAAO,CAACoM,GAAR,EAAb,EAA4BF,WAA5B,CAAd;AACD;;AAED,MAAI,CAAClE,QAAL,EAAe;AACb,WAAO1G,EAAE,CAAC+K,WAAH,CAAeH,WAAf,EAA4BrE,IAA5B,CAAP;AACD,GAFD,MAEO;AACL,QAAIyE,YAAJ;;AACA,QAAI;AACFA,MAAAA,YAAY,GAAGhL,EAAE,CAAC6K,YAAH,CAAgBtE,IAAhB,CAAf;AACD,KAFD,CAEE,OAAOjH,GAAP,EAAY;AACZ;AACA;AACA;AACA,UAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAb,IAAyBjD,GAAG,CAACiD,IAAJ,KAAa,SAA1C,EAAqD,OAAOvC,EAAE,CAAC+K,WAAH,CAAeH,WAAf,EAA4BrE,IAA5B,CAAP;AACrD,YAAMjH,GAAN;AACD;;AACD,QAAI4C,IAAI,CAAC4G,WAAT,EAAsB;AACpBkC,MAAAA,YAAY,GAAGjN,IAAI,CAACqB,OAAL,CAAaV,OAAO,CAACoM,GAAR,EAAb,EAA4BE,YAA5B,CAAf;AACD;;AACD,QAAIlI,IAAI,CAACkE,WAAL,CAAiB4D,WAAjB,EAA8BI,YAA9B,CAAJ,EAAiD;AAC/C,YAAM,IAAI1I,KAAJ,CAAW,gBAAesI,WAAY,mCAAkCI,YAAa,IAArF,CAAN;AACD,KAhBI,CAkBL;AACA;AACA;;;AACA,QAAIhL,EAAE,CAACoD,QAAH,CAAYmD,IAAZ,EAAkBvD,WAAlB,MAAmCF,IAAI,CAACkE,WAAL,CAAiBgE,YAAjB,EAA+BJ,WAA/B,CAAvC,EAAoF;AAClF,YAAM,IAAItI,KAAJ,CAAW,qBAAoB0I,YAAa,WAAUJ,WAAY,IAAlE,CAAN;AACD;;AACD,WAAOK,QAAQ,CAACL,WAAD,EAAcrE,IAAd,CAAf;AACD;AACF;;AAED,SAAS0E,QAAT,CAAmBL,WAAnB,EAAgCrE,IAAhC,EAAsC;AACpCvG,EAAAA,EAAE,CAACyJ,UAAH,CAAclD,IAAd;AACA,SAAOvG,EAAE,CAAC+K,WAAH,CAAeH,WAAf,EAA4BrE,IAA5B,CAAP;AACD;;AAED/H,MAAM,CAACC,OAAP,GAAiB2J,QAAjB;;ACnKA;;AAEA5J,MAAM,CAACC,OAAP,GAAiB;AACf2J,EAAAA,QAAQ,EAAErI,OAAO,CAAC,aAAD;AADF,CAAjB;;ACFA;;AACA,MAAMD,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBL,WAAlC;;AACA,MAAMM,EAAE,GAAGD,OAAO,CAAC,OAAD,CAAlB;;AAEA,SAASmL,UAAT,CAAqBnN,IAArB,EAA2B;AACzB,SAAOiC,EAAE,CAACmL,MAAH,CAAUpN,IAAV,EAAgB6B,IAAhB,CAAqB,MAAM,IAA3B,EAAiCwL,KAAjC,CAAuC,MAAM,KAA7C,CAAP;AACD;;AAED5M,MAAM,CAACC,OAAP,GAAiB;AACfyM,EAAAA,UAAU,EAAEpL,CAAC,CAACoL,UAAD,CADE;AAEfG,EAAAA,cAAc,EAAErL,EAAE,CAAC4I;AAFJ,CAAjB;;ACRA;;AAEA,MAAM5I,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMuD,MAAM,GAAGvD,OAAO,CAAC,WAAD,CAAP,CAAqBkC,MAApC;;AACA,MAAMiJ,UAAU,GAAGnL,OAAO,CAAC,gBAAD,CAAP,CAA0BmL,UAA7C;;AACA,MAAMI,MAAM,GAAGvL,OAAO,CAAC,gBAAD,CAAP,CAA0BsF,YAAzC;;AACA,MAAMvC,IAAI,GAAG/C,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASwL,IAAT,CAAejF,GAAf,EAAoBC,IAApB,EAA0BrE,IAA1B,EAAgCvC,EAAhC,EAAoC;AAClC,MAAI,OAAOuC,IAAP,KAAgB,UAAhB,IAA8B,CAACvC,EAAnC,EAAuC;AACrCA,IAAAA,EAAE,GAAGuC,IAAL;AACAA,IAAAA,IAAI,GAAG,EAAP;AACD,GAHD,MAGO,IAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AACrCA,IAAAA,IAAI,GAAG;AAAEhC,MAAAA,MAAM,EAAEgC;AAAV,KAAP;AACD;;AAEDvC,EAAAA,EAAE,GAAGA,EAAE,IAAI,YAAY,CAAE,CAAzB;;AACAuC,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AAEAA,EAAAA,IAAI,CAACmG,OAAL,GAAe,aAAanG,IAAb,GAAoB,CAAC,CAACA,IAAI,CAACmG,OAA3B,GAAqC,IAApD,CAXkC,CAWuB;;AACzDnG,EAAAA,IAAI,CAACoG,SAAL,GAAiB,eAAepG,IAAf,GAAsB,CAAC,CAACA,IAAI,CAACoG,SAA7B,GAAyCpG,IAAI,CAACmG,OAA/D,CAZkC,CAYqC;AAEvE;;AACA,MAAInG,IAAI,CAACqG,kBAAL,IAA2B7J,OAAO,CAAC8J,IAAR,KAAiB,MAAhD,EAAwD;AACtDC,IAAAA,OAAO,CAACC,IAAR,CAAc;iEAAd;AAED;;AAED5F,EAAAA,IAAI,CAAC8D,UAAL,CAAgBN,GAAhB,EAAqBC,IAArB,EAA2B,MAA3B,EAAmC,CAACjH,GAAD,EAAM0F,KAAN,KAAgB;AACjD,QAAI1F,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,UAAM;AAAEmH,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAwB1B,KAA9B;AACAlC,IAAAA,IAAI,CAACqE,gBAAL,CAAsBb,GAAtB,EAA2BG,OAA3B,EAAoCF,IAApC,EAA0C,MAA1C,EAAkDjH,GAAG,IAAI;AACvD,UAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,UAAI4C,IAAI,CAAChC,MAAT,EAAiB,OAAOsL,YAAY,CAACC,cAAD,EAAiB/E,QAAjB,EAA2BJ,GAA3B,EAAgCC,IAAhC,EAAsCrE,IAAtC,EAA4CvC,EAA5C,CAAnB;AACjB,aAAO8L,cAAc,CAAC/E,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,EAA4BvC,EAA5B,CAArB;AACD,KAJD;AAKD,GARD;AASD;;AAED,SAAS8L,cAAT,CAAyB/E,QAAzB,EAAmCJ,GAAnC,EAAwCC,IAAxC,EAA8CrE,IAA9C,EAAoDvC,EAApD,EAAwD;AACtD,QAAM0H,UAAU,GAAGtJ,IAAI,CAAC8E,OAAL,CAAa0D,IAAb,CAAnB;AACA2E,EAAAA,UAAU,CAAC7D,UAAD,EAAa,CAAC/H,GAAD,EAAMoM,SAAN,KAAoB;AACzC,QAAIpM,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,QAAIoM,SAAJ,EAAe,OAAO7C,SAAS,CAACnC,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,EAA4BvC,EAA5B,CAAhB;AACf2D,IAAAA,MAAM,CAAC+D,UAAD,EAAa/H,GAAG,IAAI;AACxB,UAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,aAAOuJ,SAAS,CAACnC,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,EAA4BvC,EAA5B,CAAhB;AACD,KAHK,CAAN;AAID,GAPS,CAAV;AAQD;;AAED,SAAS6L,YAAT,CAAuBG,SAAvB,EAAkCjF,QAAlC,EAA4CJ,GAA5C,EAAiDC,IAAjD,EAAuDrE,IAAvD,EAA6DvC,EAA7D,EAAiE;AAC/DR,EAAAA,OAAO,CAACC,OAAR,CAAgB8C,IAAI,CAAChC,MAAL,CAAYoG,GAAZ,EAAiBC,IAAjB,CAAhB,EAAwC3G,IAAxC,CAA6CgM,OAAO,IAAI;AACtD,QAAIA,OAAJ,EAAa,OAAOD,SAAS,CAACjF,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,EAA4BvC,EAA5B,CAAhB;AACb,WAAOA,EAAE,EAAT;AACD,GAHD,EAGGkM,KAAK,IAAIlM,EAAE,CAACkM,KAAD,CAHd;AAID;;AAED,SAAShD,SAAT,CAAoBnC,QAApB,EAA8BJ,GAA9B,EAAmCC,IAAnC,EAAyCrE,IAAzC,EAA+CvC,EAA/C,EAAmD;AACjD,MAAIuC,IAAI,CAAChC,MAAT,EAAiB,OAAOsL,YAAY,CAACnF,QAAD,EAAWK,QAAX,EAAqBJ,GAArB,EAA0BC,IAA1B,EAAgCrE,IAAhC,EAAsCvC,EAAtC,CAAnB;AACjB,SAAO0G,QAAQ,CAACK,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,EAA4BvC,EAA5B,CAAf;AACD;;AAED,SAAS0G,QAAT,CAAmBK,QAAnB,EAA6BJ,GAA7B,EAAkCC,IAAlC,EAAwCrE,IAAxC,EAA8CvC,EAA9C,EAAkD;AAChD,QAAMmD,IAAI,GAAGZ,IAAI,CAAC4G,WAAL,GAAmB9I,EAAE,CAAC8C,IAAtB,GAA6B9C,EAAE,CAAC8L,KAA7C;AACAhJ,EAAAA,IAAI,CAACwD,GAAD,EAAM,CAAChH,GAAD,EAAMmH,OAAN,KAAkB;AAC1B,QAAInH,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AAET,QAAImH,OAAO,CAACzD,WAAR,EAAJ,EAA2B,OAAOgG,KAAK,CAACvC,OAAD,EAAUC,QAAV,EAAoBJ,GAApB,EAAyBC,IAAzB,EAA+BrE,IAA/B,EAAqCvC,EAArC,CAAZ,CAA3B,KACK,IAAI8G,OAAO,CAACwC,MAAR,MACAxC,OAAO,CAACyC,iBAAR,EADA,IAEAzC,OAAO,CAAC0C,aAAR,EAFJ,EAE6B,OAAOC,MAAM,CAAC3C,OAAD,EAAUC,QAAV,EAAoBJ,GAApB,EAAyBC,IAAzB,EAA+BrE,IAA/B,EAAqCvC,EAArC,CAAb,CAF7B,KAGA,IAAI8G,OAAO,CAAC4C,cAAR,EAAJ,EAA8B,OAAOC,MAAM,CAAC5C,QAAD,EAAWJ,GAAX,EAAgBC,IAAhB,EAAsBrE,IAAtB,EAA4BvC,EAA5B,CAAb;AACpC,GARG,CAAJ;AASD;;AAED,SAASyJ,MAAT,CAAiB3C,OAAjB,EAA0BC,QAA1B,EAAoCJ,GAApC,EAAyCC,IAAzC,EAA+CrE,IAA/C,EAAqDvC,EAArD,EAAyD;AACvD,MAAI,CAAC+G,QAAL,EAAe,OAAO6C,QAAQ,CAAC9C,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,EAA2BvC,EAA3B,CAAf;AACf,SAAO6J,WAAW,CAAC/C,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,EAA2BvC,EAA3B,CAAlB;AACD;;AAED,SAAS6J,WAAT,CAAsB/C,OAAtB,EAA+BH,GAA/B,EAAoCC,IAApC,EAA0CrE,IAA1C,EAAgDvC,EAAhD,EAAoD;AAClD,MAAIuC,IAAI,CAACoG,SAAT,EAAoB;AAClBtI,IAAAA,EAAE,CAAC+L,MAAH,CAAUxF,IAAV,EAAgBjH,GAAG,IAAI;AACrB,UAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,aAAOiK,QAAQ,CAAC9C,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,EAA2BvC,EAA3B,CAAf;AACD,KAHD;AAID,GALD,MAKO,IAAIuC,IAAI,CAACwH,YAAT,EAAuB;AAC5B,WAAO/J,EAAE,CAAC,IAAI2C,KAAJ,CAAW,IAAGiE,IAAK,kBAAnB,CAAD,CAAT;AACD,GAFM,MAEA,OAAO5G,EAAE,EAAT;AACR;;AAED,SAAS4J,QAAT,CAAmB9C,OAAnB,EAA4BH,GAA5B,EAAiCC,IAAjC,EAAuCrE,IAAvC,EAA6CvC,EAA7C,EAAiD;AAC/C,MAAI,OAAOK,EAAE,CAACuJ,QAAV,KAAuB,UAA3B,EAAuC;AACrC,WAAOvJ,EAAE,CAACuJ,QAAH,CAAYjD,GAAZ,EAAiBC,IAAjB,EAAuBjH,GAAG,IAAI;AACnC,UAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,aAAO0M,wBAAwB,CAACvF,OAAD,EAAUF,IAAV,EAAgBrE,IAAhB,EAAsBvC,EAAtB,CAA/B;AACD,KAHM,CAAP;AAID;;AACD,SAAOkK,gBAAgB,CAACpD,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,EAA2BvC,EAA3B,CAAvB;AACD;;AAED,SAASkK,gBAAT,CAA2BpD,OAA3B,EAAoCH,GAApC,EAAyCC,IAAzC,EAA+CrE,IAA/C,EAAqDvC,EAArD,EAAyD;AACvD,QAAMsM,EAAE,GAAGjM,EAAE,CAACkM,gBAAH,CAAoB5F,GAApB,CAAX;AACA2F,EAAAA,EAAE,CAACE,EAAH,CAAM,OAAN,EAAe7M,GAAG,IAAIK,EAAE,CAACL,GAAD,CAAxB,EAA+B8M,IAA/B,CAAoC,MAApC,EAA4C,MAAM;AAChD,UAAMC,EAAE,GAAGrM,EAAE,CAACsM,iBAAH,CAAqB/F,IAArB,EAA2B;AAAEnE,MAAAA,IAAI,EAAEqE,OAAO,CAACrE;AAAhB,KAA3B,CAAX;AACAiK,IAAAA,EAAE,CAACF,EAAH,CAAM,OAAN,EAAe7M,GAAG,IAAIK,EAAE,CAACL,GAAD,CAAxB,EACG6M,EADH,CACM,MADN,EACc,MAAMF,EAAE,CAACM,IAAH,CAAQF,EAAR,CADpB,EAEGD,IAFH,CAEQ,OAFR,EAEiB,MAAMJ,wBAAwB,CAACvF,OAAD,EAAUF,IAAV,EAAgBrE,IAAhB,EAAsBvC,EAAtB,CAF/C;AAGD,GALD;AAMD;;AAED,SAASqM,wBAAT,CAAmCvF,OAAnC,EAA4CF,IAA5C,EAAkDrE,IAAlD,EAAwDvC,EAAxD,EAA4D;AAC1DK,EAAAA,EAAE,CAACwM,KAAH,CAASjG,IAAT,EAAeE,OAAO,CAACrE,IAAvB,EAA6B9C,GAAG,IAAI;AAClC,QAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;;AACT,QAAI4C,IAAI,CAACqG,kBAAT,EAA6B;AAC3B,aAAO+C,MAAM,CAAC/E,IAAD,EAAOE,OAAO,CAACnB,KAAf,EAAsBmB,OAAO,CAAC/B,KAA9B,EAAqC/E,EAArC,CAAb;AACD;;AACD,WAAOA,EAAE,EAAT;AACD,GAND;AAOD;;AAED,SAASqJ,KAAT,CAAgBvC,OAAhB,EAAyBC,QAAzB,EAAmCJ,GAAnC,EAAwCC,IAAxC,EAA8CrE,IAA9C,EAAoDvC,EAApD,EAAwD;AACtD,MAAI,CAAC+G,QAAL,EAAe,OAAO2D,YAAY,CAAC5D,OAAD,EAAUH,GAAV,EAAeC,IAAf,EAAqBrE,IAArB,EAA2BvC,EAA3B,CAAnB;;AACf,MAAI+G,QAAQ,IAAI,CAACA,QAAQ,CAAC1D,WAAT,EAAjB,EAAyC;AACvC,WAAOrD,EAAE,CAAC,IAAI2C,KAAJ,CAAW,mCAAkCiE,IAAK,qBAAoBD,GAAI,IAA1E,CAAD,CAAT;AACD;;AACD,SAAOgE,OAAO,CAAChE,GAAD,EAAMC,IAAN,EAAYrE,IAAZ,EAAkBvC,EAAlB,CAAd;AACD;;AAED,SAAS0K,YAAT,CAAuB5D,OAAvB,EAAgCH,GAAhC,EAAqCC,IAArC,EAA2CrE,IAA3C,EAAiDvC,EAAjD,EAAqD;AACnDK,EAAAA,EAAE,CAAC2C,KAAH,CAAS4D,IAAT,EAAejH,GAAG,IAAI;AACpB,QAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACTgL,IAAAA,OAAO,CAAChE,GAAD,EAAMC,IAAN,EAAYrE,IAAZ,EAAkB5C,GAAG,IAAI;AAC9B,UAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,aAAOU,EAAE,CAACwM,KAAH,CAASjG,IAAT,EAAeE,OAAO,CAACrE,IAAvB,EAA6BzC,EAA7B,CAAP;AACD,KAHM,CAAP;AAID,GAND;AAOD;;AAED,SAAS2K,OAAT,CAAkBhE,GAAlB,EAAuBC,IAAvB,EAA6BrE,IAA7B,EAAmCvC,EAAnC,EAAuC;AACrCK,EAAAA,EAAE,CAACyM,OAAH,CAAWnG,GAAX,EAAgB,CAAChH,GAAD,EAAMoN,KAAN,KAAgB;AAC9B,QAAIpN,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,WAAOqN,YAAY,CAACD,KAAD,EAAQpG,GAAR,EAAaC,IAAb,EAAmBrE,IAAnB,EAAyBvC,EAAzB,CAAnB;AACD,GAHD;AAID;;AAED,SAASgN,YAAT,CAAuBD,KAAvB,EAA8BpG,GAA9B,EAAmCC,IAAnC,EAAyCrE,IAAzC,EAA+CvC,EAA/C,EAAmD;AACjD,QAAM6K,IAAI,GAAGkC,KAAK,CAACE,GAAN,EAAb;AACA,MAAI,CAACpC,IAAL,EAAW,OAAO7K,EAAE,EAAT;AACX,SAAO8K,WAAW,CAACiC,KAAD,EAAQlC,IAAR,EAAclE,GAAd,EAAmBC,IAAnB,EAAyBrE,IAAzB,EAA+BvC,EAA/B,CAAlB;AACD;;AAED,SAAS8K,WAAT,CAAsBiC,KAAtB,EAA6BlC,IAA7B,EAAmClE,GAAnC,EAAwCC,IAAxC,EAA8CrE,IAA9C,EAAoDvC,EAApD,EAAwD;AACtD,QAAM+K,OAAO,GAAG3M,IAAI,CAAC8F,IAAL,CAAUyC,GAAV,EAAekE,IAAf,CAAhB;AACA,QAAMG,QAAQ,GAAG5M,IAAI,CAAC8F,IAAL,CAAU0C,IAAV,EAAgBiE,IAAhB,CAAjB;AACA1H,EAAAA,IAAI,CAAC8D,UAAL,CAAgB8D,OAAhB,EAAyBC,QAAzB,EAAmC,MAAnC,EAA2C,CAACrL,GAAD,EAAM0F,KAAN,KAAgB;AACzD,QAAI1F,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,UAAM;AAAEoH,MAAAA;AAAF,QAAe1B,KAArB;AACA6D,IAAAA,SAAS,CAACnC,QAAD,EAAWgE,OAAX,EAAoBC,QAApB,EAA8BzI,IAA9B,EAAoC5C,GAAG,IAAI;AAClD,UAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,aAAOqN,YAAY,CAACD,KAAD,EAAQpG,GAAR,EAAaC,IAAb,EAAmBrE,IAAnB,EAAyBvC,EAAzB,CAAnB;AACD,KAHQ,CAAT;AAID,GAPD;AAQD;;AAED,SAAS2J,MAAT,CAAiB5C,QAAjB,EAA2BJ,GAA3B,EAAgCC,IAAhC,EAAsCrE,IAAtC,EAA4CvC,EAA5C,EAAgD;AAC9CK,EAAAA,EAAE,CAAC6M,QAAH,CAAYvG,GAAZ,EAAiB,CAAChH,GAAD,EAAMsL,WAAN,KAAsB;AACrC,QAAItL,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;;AACT,QAAI4C,IAAI,CAAC4G,WAAT,EAAsB;AACpB8B,MAAAA,WAAW,GAAG7M,IAAI,CAACqB,OAAL,CAAaV,OAAO,CAACoM,GAAR,EAAb,EAA4BF,WAA5B,CAAd;AACD;;AAED,QAAI,CAAClE,QAAL,EAAe;AACb,aAAO1G,EAAE,CAAC8M,OAAH,CAAWlC,WAAX,EAAwBrE,IAAxB,EAA8B5G,EAA9B,CAAP;AACD,KAFD,MAEO;AACLK,MAAAA,EAAE,CAAC6M,QAAH,CAAYtG,IAAZ,EAAkB,CAACjH,GAAD,EAAM0L,YAAN,KAAuB;AACvC,YAAI1L,GAAJ,EAAS;AACP;AACA;AACA;AACA,cAAIA,GAAG,CAACiD,IAAJ,KAAa,QAAb,IAAyBjD,GAAG,CAACiD,IAAJ,KAAa,SAA1C,EAAqD,OAAOvC,EAAE,CAAC8M,OAAH,CAAWlC,WAAX,EAAwBrE,IAAxB,EAA8B5G,EAA9B,CAAP;AACrD,iBAAOA,EAAE,CAACL,GAAD,CAAT;AACD;;AACD,YAAI4C,IAAI,CAAC4G,WAAT,EAAsB;AACpBkC,UAAAA,YAAY,GAAGjN,IAAI,CAACqB,OAAL,CAAaV,OAAO,CAACoM,GAAR,EAAb,EAA4BE,YAA5B,CAAf;AACD;;AACD,YAAIlI,IAAI,CAACkE,WAAL,CAAiB4D,WAAjB,EAA8BI,YAA9B,CAAJ,EAAiD;AAC/C,iBAAOrL,EAAE,CAAC,IAAI2C,KAAJ,CAAW,gBAAesI,WAAY,mCAAkCI,YAAa,IAArF,CAAD,CAAT;AACD,SAbsC,CAevC;AACA;AACA;;;AACA,YAAItE,QAAQ,CAAC1D,WAAT,MAA0BF,IAAI,CAACkE,WAAL,CAAiBgE,YAAjB,EAA+BJ,WAA/B,CAA9B,EAA2E;AACzE,iBAAOjL,EAAE,CAAC,IAAI2C,KAAJ,CAAW,qBAAoB0I,YAAa,WAAUJ,WAAY,IAAlE,CAAD,CAAT;AACD;;AACD,eAAOK,QAAQ,CAACL,WAAD,EAAcrE,IAAd,EAAoB5G,EAApB,CAAf;AACD,OAtBD;AAuBD;AACF,GAjCD;AAkCD;;AAED,SAASsL,QAAT,CAAmBL,WAAnB,EAAgCrE,IAAhC,EAAsC5G,EAAtC,EAA0C;AACxCK,EAAAA,EAAE,CAAC+L,MAAH,CAAUxF,IAAV,EAAgBjH,GAAG,IAAI;AACrB,QAAIA,GAAJ,EAAS,OAAOK,EAAE,CAACL,GAAD,CAAT;AACT,WAAOU,EAAE,CAAC8M,OAAH,CAAWlC,WAAX,EAAwBrE,IAAxB,EAA8B5G,EAA9B,CAAP;AACD,GAHD;AAID;;AAEDnB,MAAM,CAACC,OAAP,GAAiB8M,IAAjB;;ACnNA;;AAEA,MAAMzL,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACAJ,MAAM,CAACC,OAAP,GAAiB;AACf8M,EAAAA,IAAI,EAAEzL,CAAC,CAACC,OAAO,CAAC,QAAD,CAAR;AADQ,CAAjB;;ACHA;;AAEA,MAAMC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMgN,MAAM,GAAGhN,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMiN,SAAS,GAAItO,OAAO,CAACC,QAAR,KAAqB,OAAxC;;AAEA,SAASsO,QAAT,CAAmBC,OAAnB,EAA4B;AAC1B,QAAMC,OAAO,GAAG,CACd,QADc,EAEd,OAFc,EAGd,MAHc,EAId,OAJc,EAKd,OALc,EAMd,SANc,CAAhB;AAQAA,EAAAA,OAAO,CAAC9M,OAAR,CAAgB+M,CAAC,IAAI;AACnBF,IAAAA,OAAO,CAACE,CAAD,CAAP,GAAaF,OAAO,CAACE,CAAD,CAAP,IAAcpN,EAAE,CAACoN,CAAD,CAA7B;AACAA,IAAAA,CAAC,GAAGA,CAAC,GAAG,MAAR;AACAF,IAAAA,OAAO,CAACE,CAAD,CAAP,GAAaF,OAAO,CAACE,CAAD,CAAP,IAAcpN,EAAE,CAACoN,CAAD,CAA7B;AACD,GAJD;AAMAF,EAAAA,OAAO,CAACG,YAAR,GAAuBH,OAAO,CAACG,YAAR,IAAwB,CAA/C;AACD;;AAED,SAASC,MAAT,CAAiBhM,CAAjB,EAAoB4L,OAApB,EAA6BvN,EAA7B,EAAiC;AAC/B,MAAI4N,SAAS,GAAG,CAAhB;;AAEA,MAAI,OAAOL,OAAP,KAAmB,UAAvB,EAAmC;AACjCvN,IAAAA,EAAE,GAAGuN,OAAL;AACAA,IAAAA,OAAO,GAAG,EAAV;AACD;;AAEDH,EAAAA,MAAM,CAACzL,CAAD,EAAI,sBAAJ,CAAN;AACAyL,EAAAA,MAAM,CAACS,WAAP,CAAmB,OAAOlM,CAA1B,EAA6B,QAA7B,EAAuC,iCAAvC;AACAyL,EAAAA,MAAM,CAACS,WAAP,CAAmB,OAAO7N,EAA1B,EAA8B,UAA9B,EAA0C,oCAA1C;AACAoN,EAAAA,MAAM,CAACG,OAAD,EAAU,2CAAV,CAAN;AACAH,EAAAA,MAAM,CAACS,WAAP,CAAmB,OAAON,OAA1B,EAAmC,QAAnC,EAA6C,kCAA7C;AAEAD,EAAAA,QAAQ,CAACC,OAAD,CAAR;AAEAO,EAAAA,OAAO,CAACnM,CAAD,EAAI4L,OAAJ,EAAa,SAASQ,EAAT,CAAa9K,EAAb,EAAiB;AACnC,QAAIA,EAAJ,EAAQ;AACN,UAAI,CAACA,EAAE,CAACL,IAAH,KAAY,OAAZ,IAAuBK,EAAE,CAACL,IAAH,KAAY,WAAnC,IAAkDK,EAAE,CAACL,IAAH,KAAY,OAA/D,KACAgL,SAAS,GAAGL,OAAO,CAACG,YADxB,EACsC;AACpCE,QAAAA,SAAS;AACT,cAAMI,IAAI,GAAGJ,SAAS,GAAG,GAAzB,CAFoC,CAGpC;;AACA,eAAOK,UAAU,CAAC,MAAMH,OAAO,CAACnM,CAAD,EAAI4L,OAAJ,EAAaQ,EAAb,CAAd,EAAgCC,IAAhC,CAAjB;AACD,OAPK,CASN;;;AACA,UAAI/K,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0BK,EAAE,GAAG,IAAL;AAC3B;;AAEDjD,IAAAA,EAAE,CAACiD,EAAD,CAAF;AACD,GAfM,CAAP;AAgBD,EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS6K,OAAT,CAAkBnM,CAAlB,EAAqB4L,OAArB,EAA8BvN,EAA9B,EAAkC;AAChCoN,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;AACAH,EAAAA,MAAM,CAAC,OAAOpN,EAAP,KAAc,UAAf,CAAN,CAHgC,CAKhC;AACA;;AACAuN,EAAAA,OAAO,CAACpB,KAAR,CAAcxK,CAAd,EAAiB,CAACsB,EAAD,EAAKiL,EAAL,KAAY;AAC3B,QAAIjL,EAAE,IAAIA,EAAE,CAACL,IAAH,KAAY,QAAtB,EAAgC;AAC9B,aAAO5C,EAAE,CAAC,IAAD,CAAT;AACD,KAH0B,CAK3B;;;AACA,QAAIiD,EAAE,IAAIA,EAAE,CAACL,IAAH,KAAY,OAAlB,IAA6ByK,SAAjC,EAA4C;AAC1C,aAAOc,WAAW,CAACxM,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,EAAiBjD,EAAjB,CAAlB;AACD;;AAED,QAAIkO,EAAE,IAAIA,EAAE,CAAC7K,WAAH,EAAV,EAA4B;AAC1B,aAAO+K,KAAK,CAACzM,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,EAAiBjD,EAAjB,CAAZ;AACD;;AAEDuN,IAAAA,OAAO,CAACnB,MAAR,CAAezK,CAAf,EAAkBsB,EAAE,IAAI;AACtB,UAAIA,EAAJ,EAAQ;AACN,YAAIA,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B;AACxB,iBAAO5C,EAAE,CAAC,IAAD,CAAT;AACD;;AACD,YAAIiD,EAAE,CAACL,IAAH,KAAY,OAAhB,EAAyB;AACvB,iBAAQyK,SAAD,GACHc,WAAW,CAACxM,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,EAAiBjD,EAAjB,CADR,GAEHoO,KAAK,CAACzM,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,EAAiBjD,EAAjB,CAFT;AAGD;;AACD,YAAIiD,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B;AACxB,iBAAOwL,KAAK,CAACzM,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,EAAiBjD,EAAjB,CAAZ;AACD;AACF;;AACD,aAAOA,EAAE,CAACiD,EAAD,CAAT;AACD,KAfD;AAgBD,GA9BD;AA+BD;;AAED,SAASkL,WAAT,CAAsBxM,CAAtB,EAAyB4L,OAAzB,EAAkCtK,EAAlC,EAAsCjD,EAAtC,EAA0C;AACxCoN,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;AACAH,EAAAA,MAAM,CAAC,OAAOpN,EAAP,KAAc,UAAf,CAAN;;AACA,MAAIiD,EAAJ,EAAQ;AACNmK,IAAAA,MAAM,CAACnK,EAAE,YAAYN,KAAf,CAAN;AACD;;AAED4K,EAAAA,OAAO,CAACV,KAAR,CAAclL,CAAd,EAAiB,KAAjB,EAAwByB,GAAG,IAAI;AAC7B,QAAIA,GAAJ,EAAS;AACPpD,MAAAA,EAAE,CAACoD,GAAG,CAACR,IAAJ,KAAa,QAAb,GAAwB,IAAxB,GAA+BK,EAAhC,CAAF;AACD,KAFD,MAEO;AACLsK,MAAAA,OAAO,CAACpK,IAAR,CAAaxB,CAAb,EAAgB,CAAC0M,GAAD,EAAMhJ,KAAN,KAAgB;AAC9B,YAAIgJ,GAAJ,EAAS;AACPrO,UAAAA,EAAE,CAACqO,GAAG,CAACzL,IAAJ,KAAa,QAAb,GAAwB,IAAxB,GAA+BK,EAAhC,CAAF;AACD,SAFD,MAEO,IAAIoC,KAAK,CAAChC,WAAN,EAAJ,EAAyB;AAC9B+K,UAAAA,KAAK,CAACzM,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,EAAiBjD,EAAjB,CAAL;AACD,SAFM,MAEA;AACLuN,UAAAA,OAAO,CAACnB,MAAR,CAAezK,CAAf,EAAkB3B,EAAlB;AACD;AACF,OARD;AASD;AACF,GAdD;AAeD;;AAED,SAASsO,eAAT,CAA0B3M,CAA1B,EAA6B4L,OAA7B,EAAsCtK,EAAtC,EAA0C;AACxC,MAAIoC,KAAJ;AAEA+H,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;;AACA,MAAItK,EAAJ,EAAQ;AACNmK,IAAAA,MAAM,CAACnK,EAAE,YAAYN,KAAf,CAAN;AACD;;AAED,MAAI;AACF4K,IAAAA,OAAO,CAACtD,SAAR,CAAkBtI,CAAlB,EAAqB,KAArB;AACD,GAFD,CAEE,OAAOyB,GAAP,EAAY;AACZ,QAAIA,GAAG,CAACR,IAAJ,KAAa,QAAjB,EAA2B;AACzB;AACD,KAFD,MAEO;AACL,YAAMK,EAAN;AACD;AACF;;AAED,MAAI;AACFoC,IAAAA,KAAK,GAAGkI,OAAO,CAAC9J,QAAR,CAAiB9B,CAAjB,CAAR;AACD,GAFD,CAEE,OAAO0M,GAAP,EAAY;AACZ,QAAIA,GAAG,CAACzL,IAAJ,KAAa,QAAjB,EAA2B;AACzB;AACD,KAFD,MAEO;AACL,YAAMK,EAAN;AACD;AACF;;AAED,MAAIoC,KAAK,CAAChC,WAAN,EAAJ,EAAyB;AACvBkL,IAAAA,SAAS,CAAC5M,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,CAAT;AACD,GAFD,MAEO;AACLsK,IAAAA,OAAO,CAACzD,UAAR,CAAmBnI,CAAnB;AACD;AACF;;AAED,SAASyM,KAAT,CAAgBzM,CAAhB,EAAmB4L,OAAnB,EAA4BiB,UAA5B,EAAwCxO,EAAxC,EAA4C;AAC1CoN,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;;AACA,MAAIiB,UAAJ,EAAgB;AACdpB,IAAAA,MAAM,CAACoB,UAAU,YAAY7L,KAAvB,CAAN;AACD;;AACDyK,EAAAA,MAAM,CAAC,OAAOpN,EAAP,KAAc,UAAf,CAAN,CAN0C,CAQ1C;AACA;AACA;;AACAuN,EAAAA,OAAO,CAACa,KAAR,CAAczM,CAAd,EAAiBsB,EAAE,IAAI;AACrB,QAAIA,EAAE,KAAKA,EAAE,CAACL,IAAH,KAAY,WAAZ,IAA2BK,EAAE,CAACL,IAAH,KAAY,QAAvC,IAAmDK,EAAE,CAACL,IAAH,KAAY,OAApE,CAAN,EAAoF;AAClF6L,MAAAA,MAAM,CAAC9M,CAAD,EAAI4L,OAAJ,EAAavN,EAAb,CAAN;AACD,KAFD,MAEO,IAAIiD,EAAE,IAAIA,EAAE,CAACL,IAAH,KAAY,SAAtB,EAAiC;AACtC5C,MAAAA,EAAE,CAACwO,UAAD,CAAF;AACD,KAFM,MAEA;AACLxO,MAAAA,EAAE,CAACiD,EAAD,CAAF;AACD;AACF,GARD;AASD;;AAED,SAASwL,MAAT,CAAiB9M,CAAjB,EAAoB4L,OAApB,EAA6BvN,EAA7B,EAAiC;AAC/BoN,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;AACAH,EAAAA,MAAM,CAAC,OAAOpN,EAAP,KAAc,UAAf,CAAN;AAEAuN,EAAAA,OAAO,CAACT,OAAR,CAAgBnL,CAAhB,EAAmB,CAACsB,EAAD,EAAKyL,KAAL,KAAe;AAChC,QAAIzL,EAAJ,EAAQ,OAAOjD,EAAE,CAACiD,EAAD,CAAT;AAER,QAAI0L,CAAC,GAAGD,KAAK,CAACpP,MAAd;AACA,QAAIsP,QAAJ;AAEA,QAAID,CAAC,KAAK,CAAV,EAAa,OAAOpB,OAAO,CAACa,KAAR,CAAczM,CAAd,EAAiB3B,EAAjB,CAAP;AAEb0O,IAAAA,KAAK,CAAChO,OAAN,CAAcmO,CAAC,IAAI;AACjBlB,MAAAA,MAAM,CAACvP,IAAI,CAAC8F,IAAL,CAAUvC,CAAV,EAAakN,CAAb,CAAD,EAAkBtB,OAAlB,EAA2BtK,EAAE,IAAI;AACrC,YAAI2L,QAAJ,EAAc;AACZ;AACD;;AACD,YAAI3L,EAAJ,EAAQ,OAAOjD,EAAE,CAAC4O,QAAQ,GAAG3L,EAAZ,CAAT;;AACR,YAAI,EAAE0L,CAAF,KAAQ,CAAZ,EAAe;AACbpB,UAAAA,OAAO,CAACa,KAAR,CAAczM,CAAd,EAAiB3B,EAAjB;AACD;AACF,OARK,CAAN;AASD,KAVD;AAWD,GAnBD;AAoBD,EAED;AACA;AACA;;;AACA,SAAS8O,UAAT,CAAqBnN,CAArB,EAAwB4L,OAAxB,EAAiC;AAC/B,MAAIW,EAAJ;AAEAX,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACAD,EAAAA,QAAQ,CAACC,OAAD,CAAR;AAEAH,EAAAA,MAAM,CAACzL,CAAD,EAAI,sBAAJ,CAAN;AACAyL,EAAAA,MAAM,CAACS,WAAP,CAAmB,OAAOlM,CAA1B,EAA6B,QAA7B,EAAuC,iCAAvC;AACAyL,EAAAA,MAAM,CAACG,OAAD,EAAU,yBAAV,CAAN;AACAH,EAAAA,MAAM,CAACS,WAAP,CAAmB,OAAON,OAA1B,EAAmC,QAAnC,EAA6C,kCAA7C;;AAEA,MAAI;AACFW,IAAAA,EAAE,GAAGX,OAAO,CAACnE,SAAR,CAAkBzH,CAAlB,CAAL;AACD,GAFD,CAEE,OAAOsB,EAAP,EAAW;AACX,QAAIA,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B;AACxB;AACD,KAHU,CAKX;;;AACA,QAAIK,EAAE,CAACL,IAAH,KAAY,OAAZ,IAAuByK,SAA3B,EAAsC;AACpCiB,MAAAA,eAAe,CAAC3M,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,CAAf;AACD;AACF;;AAED,MAAI;AACF;AACA,QAAIiL,EAAE,IAAIA,EAAE,CAAC7K,WAAH,EAAV,EAA4B;AAC1BkL,MAAAA,SAAS,CAAC5M,CAAD,EAAI4L,OAAJ,EAAa,IAAb,CAAT;AACD,KAFD,MAEO;AACLA,MAAAA,OAAO,CAACzD,UAAR,CAAmBnI,CAAnB;AACD;AACF,GAPD,CAOE,OAAOsB,EAAP,EAAW;AACX,QAAIA,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B;AACxB;AACD,KAFD,MAEO,IAAIK,EAAE,CAACL,IAAH,KAAY,OAAhB,EAAyB;AAC9B,aAAOyK,SAAS,GAAGiB,eAAe,CAAC3M,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,CAAlB,GAAqCsL,SAAS,CAAC5M,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,CAA9D;AACD,KAFM,MAEA,IAAIA,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B;AAC/B,YAAMK,EAAN;AACD;;AACDsL,IAAAA,SAAS,CAAC5M,CAAD,EAAI4L,OAAJ,EAAatK,EAAb,CAAT;AACD;AACF;;AAED,SAASsL,SAAT,CAAoB5M,CAApB,EAAuB4L,OAAvB,EAAgCiB,UAAhC,EAA4C;AAC1CpB,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;;AACA,MAAIiB,UAAJ,EAAgB;AACdpB,IAAAA,MAAM,CAACoB,UAAU,YAAY7L,KAAvB,CAAN;AACD;;AAED,MAAI;AACF4K,IAAAA,OAAO,CAACgB,SAAR,CAAkB5M,CAAlB;AACD,GAFD,CAEE,OAAOsB,EAAP,EAAW;AACX,QAAIA,EAAE,CAACL,IAAH,KAAY,SAAhB,EAA2B;AACzB,YAAM4L,UAAN;AACD,KAFD,MAEO,IAAIvL,EAAE,CAACL,IAAH,KAAY,WAAZ,IAA2BK,EAAE,CAACL,IAAH,KAAY,QAAvC,IAAmDK,EAAE,CAACL,IAAH,KAAY,OAAnE,EAA4E;AACjFmM,MAAAA,UAAU,CAACpN,CAAD,EAAI4L,OAAJ,CAAV;AACD,KAFM,MAEA,IAAItK,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B;AAC/B,YAAMK,EAAN;AACD;AACF;AACF;;AAED,SAAS8L,UAAT,CAAqBpN,CAArB,EAAwB4L,OAAxB,EAAiC;AAC/BH,EAAAA,MAAM,CAACzL,CAAD,CAAN;AACAyL,EAAAA,MAAM,CAACG,OAAD,CAAN;AACAA,EAAAA,OAAO,CAAC3C,WAAR,CAAoBjJ,CAApB,EAAuBjB,OAAvB,CAA+BmO,CAAC,IAAIC,UAAU,CAAC1Q,IAAI,CAAC8F,IAAL,CAAUvC,CAAV,EAAakN,CAAb,CAAD,EAAkBtB,OAAlB,CAA9C;;AAEA,MAAIF,SAAJ,EAAe;AACb;AACA;AACA;AACA;AACA;AACA;AACA,UAAM2B,SAAS,GAAG7K,IAAI,CAACC,GAAL,EAAlB;;AACA,OAAG;AACD,UAAI;AACF,cAAM6K,GAAG,GAAG1B,OAAO,CAACgB,SAAR,CAAkB5M,CAAlB,EAAqB4L,OAArB,CAAZ;AACA,eAAO0B,GAAP;AACD,OAHD,CAGE,OAAOhM,EAAP,EAAW,CAAG;AACjB,KALD,QAKSkB,IAAI,CAACC,GAAL,KAAa4K,SAAb,GAAyB,GALlC,EARa,CAa0B;;AACxC,GAdD,MAcO;AACL,UAAMC,GAAG,GAAG1B,OAAO,CAACgB,SAAR,CAAkB5M,CAAlB,EAAqB4L,OAArB,CAAZ;AACA,WAAO0B,GAAP;AACD;AACF;;AAEDpQ,MAAM,CAACC,OAAP,GAAiB6O,MAAjB;AACAA,MAAM,CAACuB,IAAP,GAAcJ,UAAd;;ACzTA;;AAEA,MAAM3O,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAM0O,MAAM,GAAGvN,OAAO,CAAC,UAAD,CAAtB;;AAEAvB,MAAM,CAACC,OAAP,GAAiB;AACfqQ,EAAAA,MAAM,EAAEhP,CAAC,CAACwN,MAAD,CADM;AAEfyB,EAAAA,UAAU,EAAEzB,MAAM,CAACuB;AAFJ,CAAjB;;ACLA;;AAEA,MAAM/O,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAMoB,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMhC,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM4C,KAAK,GAAG5C,OAAO,CAAC,WAAD,CAArB;;AACA,MAAM+O,MAAM,GAAG/O,OAAO,CAAC,WAAD,CAAtB;;AAEA,MAAMiP,QAAQ,GAAGlP,CAAC,CAAC,SAASkP,QAAT,CAAmBC,GAAnB,EAAwBxO,QAAxB,EAAkC;AACnDA,EAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAY,CAAE,CAArC;;AACAT,EAAAA,EAAE,CAACyM,OAAH,CAAWwC,GAAX,EAAgB,CAAC3P,GAAD,EAAMoN,KAAN,KAAgB;AAC9B,QAAIpN,GAAJ,EAAS,OAAOqD,KAAK,CAACV,MAAN,CAAagN,GAAb,EAAkBxO,QAAlB,CAAP;AAETiM,IAAAA,KAAK,GAAGA,KAAK,CAACwC,GAAN,CAAU1E,IAAI,IAAIzM,IAAI,CAAC8F,IAAL,CAAUoL,GAAV,EAAezE,IAAf,CAAlB,CAAR;AAEA2E,IAAAA,UAAU;;AAEV,aAASA,UAAT,GAAuB;AACrB,YAAM3E,IAAI,GAAGkC,KAAK,CAACE,GAAN,EAAb;AACA,UAAI,CAACpC,IAAL,EAAW,OAAO/J,QAAQ,EAAf;AACXqO,MAAAA,MAAM,CAACA,MAAP,CAActE,IAAd,EAAoBlL,GAAG,IAAI;AACzB,YAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT6P,QAAAA,UAAU;AACX,OAHD;AAID;AACF,GAfD;AAgBD,CAlBiB,CAAlB;;AAoBA,SAASC,YAAT,CAAuBH,GAAvB,EAA4B;AAC1B,MAAIvC,KAAJ;;AACA,MAAI;AACFA,IAAAA,KAAK,GAAG1M,EAAE,CAACuK,WAAH,CAAe0E,GAAf,CAAR;AACD,GAFD,CAEE,OAAO3P,GAAP,EAAY;AACZ,WAAOqD,KAAK,CAACM,UAAN,CAAiBgM,GAAjB,CAAP;AACD;;AAEDvC,EAAAA,KAAK,CAACrM,OAAN,CAAcmK,IAAI,IAAI;AACpBA,IAAAA,IAAI,GAAGzM,IAAI,CAAC8F,IAAL,CAAUoL,GAAV,EAAezE,IAAf,CAAP;AACAsE,IAAAA,MAAM,CAACC,UAAP,CAAkBvE,IAAlB;AACD,GAHD;AAID;;AAEDhM,MAAM,CAACC,OAAP,GAAiB;AACf2Q,EAAAA,YADe;AAEfC,EAAAA,YAAY,EAAED,YAFC;AAGfJ,EAAAA,QAHe;AAIfM,EAAAA,QAAQ,EAAEN;AAJK,CAAjB;;AC1CA;;AAEA,MAAMlP,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAMb,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAM4C,KAAK,GAAG5C,OAAO,CAAC,WAAD,CAArB;;AACA,MAAMmL,UAAU,GAAGnL,OAAO,CAAC,gBAAD,CAAP,CAA0BmL,UAA7C;;AAEA,SAASqE,UAAT,CAAqBC,IAArB,EAA2B/O,QAA3B,EAAqC;AACnC,WAASgP,QAAT,GAAqB;AACnBzP,IAAAA,EAAE,CAAC4E,SAAH,CAAa4K,IAAb,EAAmB,EAAnB,EAAuBlQ,GAAG,IAAI;AAC5B,UAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTmB,MAAAA,QAAQ;AACT,KAHD;AAID;;AAEDT,EAAAA,EAAE,CAAC8C,IAAH,CAAQ0M,IAAR,EAAc,CAAClQ,GAAD,EAAM0F,KAAN,KAAgB;AAAE;AAC9B,QAAI,CAAC1F,GAAD,IAAQ0F,KAAK,CAACiE,MAAN,EAAZ,EAA4B,OAAOxI,QAAQ,EAAf;AAC5B,UAAMwO,GAAG,GAAGlR,IAAI,CAAC8E,OAAL,CAAa2M,IAAb,CAAZ;AACAtE,IAAAA,UAAU,CAAC+D,GAAD,EAAM,CAAC3P,GAAD,EAAMoM,SAAN,KAAoB;AAClC,UAAIpM,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT,UAAIoM,SAAJ,EAAe,OAAO+D,QAAQ,EAAf;AACf9M,MAAAA,KAAK,CAACV,MAAN,CAAagN,GAAb,EAAkB3P,GAAG,IAAI;AACvB,YAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTmQ,QAAAA,QAAQ;AACT,OAHD;AAID,KAPS,CAAV;AAQD,GAXD;AAYD;;AAED,SAASC,cAAT,CAAyBF,IAAzB,EAA+B;AAC7B,MAAIxK,KAAJ;;AACA,MAAI;AACFA,IAAAA,KAAK,GAAGhF,EAAE,CAACoD,QAAH,CAAYoM,IAAZ,CAAR;AACD,GAFD,CAEE,OAAOtH,CAAP,EAAU,CAAE;;AACd,MAAIlD,KAAK,IAAIA,KAAK,CAACiE,MAAN,EAAb,EAA6B;AAE7B,QAAMgG,GAAG,GAAGlR,IAAI,CAAC8E,OAAL,CAAa2M,IAAb,CAAZ;;AACA,MAAI,CAACxP,EAAE,CAAC4I,UAAH,CAAcqG,GAAd,CAAL,EAAyB;AACvBtM,IAAAA,KAAK,CAACM,UAAN,CAAiBgM,GAAjB;AACD;;AAEDjP,EAAAA,EAAE,CAACsE,aAAH,CAAiBkL,IAAjB,EAAuB,EAAvB;AACD;;AAEDhR,MAAM,CAACC,OAAP,GAAiB;AACf8Q,EAAAA,UAAU,EAAEzP,CAAC,CAACyP,UAAD,CADE;AAEfG,EAAAA;AAFe,CAAjB;;AC7CA;;AAEA,MAAM5P,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAMb,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAM4C,KAAK,GAAG5C,OAAO,CAAC,WAAD,CAArB;;AACA,MAAMmL,UAAU,GAAGnL,OAAO,CAAC,gBAAD,CAAP,CAA0BmL,UAA7C;;AAEA,SAASyE,UAAT,CAAqBC,OAArB,EAA8BC,OAA9B,EAAuCpP,QAAvC,EAAiD;AAC/C,WAASqP,QAAT,CAAmBF,OAAnB,EAA4BC,OAA5B,EAAqC;AACnC7P,IAAAA,EAAE,CAAC+P,IAAH,CAAQH,OAAR,EAAiBC,OAAjB,EAA0BvQ,GAAG,IAAI;AAC/B,UAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTmB,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAHD;AAID;;AAEDyK,EAAAA,UAAU,CAAC2E,OAAD,EAAU,CAACvQ,GAAD,EAAM0Q,iBAAN,KAA4B;AAC9C,QAAI1Q,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT,QAAI0Q,iBAAJ,EAAuB,OAAOvP,QAAQ,CAAC,IAAD,CAAf;AACvBT,IAAAA,EAAE,CAAC8L,KAAH,CAAS8D,OAAT,EAAmBtQ,GAAD,IAAS;AACzB,UAAIA,GAAJ,EAAS;AACPA,QAAAA,GAAG,CAAC2Q,OAAJ,GAAc3Q,GAAG,CAAC2Q,OAAJ,CAAYpO,OAAZ,CAAoB,OAApB,EAA6B,YAA7B,CAAd;AACA,eAAOpB,QAAQ,CAACnB,GAAD,CAAf;AACD;;AAED,YAAM2P,GAAG,GAAGlR,IAAI,CAAC8E,OAAL,CAAagN,OAAb,CAAZ;AACA3E,MAAAA,UAAU,CAAC+D,GAAD,EAAM,CAAC3P,GAAD,EAAMoM,SAAN,KAAoB;AAClC,YAAIpM,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT,YAAIoM,SAAJ,EAAe,OAAOoE,QAAQ,CAACF,OAAD,EAAUC,OAAV,CAAf;AACflN,QAAAA,KAAK,CAACV,MAAN,CAAagN,GAAb,EAAkB3P,GAAG,IAAI;AACvB,cAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTwQ,UAAAA,QAAQ,CAACF,OAAD,EAAUC,OAAV,CAAR;AACD,SAHD;AAID,OAPS,CAAV;AAQD,KAfD;AAgBD,GAnBS,CAAV;AAoBD;;AAED,SAASK,cAAT,CAAyBN,OAAzB,EAAkCC,OAAlC,EAA2C;AACzC,QAAMG,iBAAiB,GAAGhQ,EAAE,CAAC4I,UAAH,CAAciH,OAAd,CAA1B;AACA,MAAIG,iBAAJ,EAAuB,OAAOvN,SAAP;;AAEvB,MAAI;AACFzC,IAAAA,EAAE,CAAC+I,SAAH,CAAa6G,OAAb;AACD,GAFD,CAEE,OAAOtQ,GAAP,EAAY;AACZA,IAAAA,GAAG,CAAC2Q,OAAJ,GAAc3Q,GAAG,CAAC2Q,OAAJ,CAAYpO,OAAZ,CAAoB,OAApB,EAA6B,YAA7B,CAAd;AACA,UAAMvC,GAAN;AACD;;AAED,QAAM2P,GAAG,GAAGlR,IAAI,CAAC8E,OAAL,CAAagN,OAAb,CAAZ;AACA,QAAMnE,SAAS,GAAG1L,EAAE,CAAC4I,UAAH,CAAcqG,GAAd,CAAlB;AACA,MAAIvD,SAAJ,EAAe,OAAO1L,EAAE,CAACmQ,QAAH,CAAYP,OAAZ,EAAqBC,OAArB,CAAP;AACflN,EAAAA,KAAK,CAACM,UAAN,CAAiBgM,GAAjB;AAEA,SAAOjP,EAAE,CAACmQ,QAAH,CAAYP,OAAZ,EAAqBC,OAArB,CAAP;AACD;;AAEDrR,MAAM,CAACC,OAAP,GAAiB;AACfkR,EAAAA,UAAU,EAAE7P,CAAC,CAAC6P,UAAD,CADE;AAEfO,EAAAA;AAFe,CAAjB;;ACzDA;;AAEA,MAAMnS,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAMmL,UAAU,GAAGnL,OAAO,CAAC,gBAAD,CAAP,CAA0BmL,UAA7C;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAsBA,SAASkF,YAAT,CAAuBR,OAAvB,EAAgCC,OAAhC,EAAyCpP,QAAzC,EAAmD;AACjD,MAAI1C,IAAI,CAACsS,UAAL,CAAgBT,OAAhB,CAAJ,EAA8B;AAC5B,WAAO5P,EAAE,CAAC8L,KAAH,CAAS8D,OAAT,EAAmBtQ,GAAD,IAAS;AAChC,UAAIA,GAAJ,EAAS;AACPA,QAAAA,GAAG,CAAC2Q,OAAJ,GAAc3Q,GAAG,CAAC2Q,OAAJ,CAAYpO,OAAZ,CAAoB,OAApB,EAA6B,eAA7B,CAAd;AACA,eAAOpB,QAAQ,CAACnB,GAAD,CAAf;AACD;;AACD,aAAOmB,QAAQ,CAAC,IAAD,EAAO;AACpB,iBAASmP,OADW;AAEpB,iBAASA;AAFW,OAAP,CAAf;AAID,KATM,CAAP;AAUD,GAXD,MAWO;AACL,UAAMU,MAAM,GAAGvS,IAAI,CAAC8E,OAAL,CAAagN,OAAb,CAAf;AACA,UAAMU,aAAa,GAAGxS,IAAI,CAAC8F,IAAL,CAAUyM,MAAV,EAAkBV,OAAlB,CAAtB;AACA,WAAO1E,UAAU,CAACqF,aAAD,EAAgB,CAACjR,GAAD,EAAMiB,MAAN,KAAiB;AAChD,UAAIjB,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;;AACT,UAAIiB,MAAJ,EAAY;AACV,eAAOE,QAAQ,CAAC,IAAD,EAAO;AACpB,mBAAS8P,aADW;AAEpB,mBAASX;AAFW,SAAP,CAAf;AAID,OALD,MAKO;AACL,eAAO5P,EAAE,CAAC8L,KAAH,CAAS8D,OAAT,EAAmBtQ,GAAD,IAAS;AAChC,cAAIA,GAAJ,EAAS;AACPA,YAAAA,GAAG,CAAC2Q,OAAJ,GAAc3Q,GAAG,CAAC2Q,OAAJ,CAAYpO,OAAZ,CAAoB,OAApB,EAA6B,eAA7B,CAAd;AACA,mBAAOpB,QAAQ,CAACnB,GAAD,CAAf;AACD;;AACD,iBAAOmB,QAAQ,CAAC,IAAD,EAAO;AACpB,qBAASmP,OADW;AAEpB,qBAAS7R,IAAI,CAACyS,QAAL,CAAcF,MAAd,EAAsBV,OAAtB;AAFW,WAAP,CAAf;AAID,SATM,CAAP;AAUD;AACF,KAnBgB,CAAjB;AAoBD;AACF;;AAED,SAASa,gBAAT,CAA2Bb,OAA3B,EAAoCC,OAApC,EAA6C;AAC3C,MAAItP,MAAJ;;AACA,MAAIxC,IAAI,CAACsS,UAAL,CAAgBT,OAAhB,CAAJ,EAA8B;AAC5BrP,IAAAA,MAAM,GAAGP,EAAE,CAAC4I,UAAH,CAAcgH,OAAd,CAAT;AACA,QAAI,CAACrP,MAAL,EAAa,MAAM,IAAI+B,KAAJ,CAAU,iCAAV,CAAN;AACb,WAAO;AACL,eAASsN,OADJ;AAEL,eAASA;AAFJ,KAAP;AAID,GAPD,MAOO;AACL,UAAMU,MAAM,GAAGvS,IAAI,CAAC8E,OAAL,CAAagN,OAAb,CAAf;AACA,UAAMU,aAAa,GAAGxS,IAAI,CAAC8F,IAAL,CAAUyM,MAAV,EAAkBV,OAAlB,CAAtB;AACArP,IAAAA,MAAM,GAAGP,EAAE,CAAC4I,UAAH,CAAc2H,aAAd,CAAT;;AACA,QAAIhQ,MAAJ,EAAY;AACV,aAAO;AACL,iBAASgQ,aADJ;AAEL,iBAASX;AAFJ,OAAP;AAID,KALD,MAKO;AACLrP,MAAAA,MAAM,GAAGP,EAAE,CAAC4I,UAAH,CAAcgH,OAAd,CAAT;AACA,UAAI,CAACrP,MAAL,EAAa,MAAM,IAAI+B,KAAJ,CAAU,iCAAV,CAAN;AACb,aAAO;AACL,iBAASsN,OADJ;AAEL,iBAAS7R,IAAI,CAACyS,QAAL,CAAcF,MAAd,EAAsBV,OAAtB;AAFJ,OAAP;AAID;AACF;AACF;;AAEDpR,MAAM,CAACC,OAAP,GAAiB;AACf2R,EAAAA,YADe;AAEfK,EAAAA;AAFe,CAAjB;;AC/FA;;AAEA,MAAMzQ,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AAEA,SAAS2Q,WAAT,CAAsBd,OAAtB,EAA+Be,IAA/B,EAAqClQ,QAArC,EAA+C;AAC7CA,EAAAA,QAAQ,GAAI,OAAOkQ,IAAP,KAAgB,UAAjB,GAA+BA,IAA/B,GAAsClQ,QAAjD;AACAkQ,EAAAA,IAAI,GAAI,OAAOA,IAAP,KAAgB,UAAjB,GAA+B,KAA/B,GAAuCA,IAA9C;AACA,MAAIA,IAAJ,EAAU,OAAOlQ,QAAQ,CAAC,IAAD,EAAOkQ,IAAP,CAAf;AACV3Q,EAAAA,EAAE,CAAC8L,KAAH,CAAS8D,OAAT,EAAkB,CAACtQ,GAAD,EAAM0F,KAAN,KAAgB;AAChC,QAAI1F,GAAJ,EAAS,OAAOmB,QAAQ,CAAC,IAAD,EAAO,MAAP,CAAf;AACTkQ,IAAAA,IAAI,GAAI3L,KAAK,IAAIA,KAAK,CAAChC,WAAN,EAAV,GAAiC,KAAjC,GAAyC,MAAhD;AACAvC,IAAAA,QAAQ,CAAC,IAAD,EAAOkQ,IAAP,CAAR;AACD,GAJD;AAKD;;AAED,SAASC,eAAT,CAA0BhB,OAA1B,EAAmCe,IAAnC,EAAyC;AACvC,MAAI3L,KAAJ;AAEA,MAAI2L,IAAJ,EAAU,OAAOA,IAAP;;AACV,MAAI;AACF3L,IAAAA,KAAK,GAAGhF,EAAE,CAAC+I,SAAH,CAAa6G,OAAb,CAAR;AACD,GAFD,CAEE,OAAO1H,CAAP,EAAU;AACV,WAAO,MAAP;AACD;;AACD,SAAQlD,KAAK,IAAIA,KAAK,CAAChC,WAAN,EAAV,GAAiC,KAAjC,GAAyC,MAAhD;AACD;;AAEDxE,MAAM,CAACC,OAAP,GAAiB;AACfiS,EAAAA,WADe;AAEfE,EAAAA;AAFe,CAAjB;;AC3BA;;AAEA,MAAM9Q,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBnB,YAAlC;;AACA,MAAMb,IAAI,GAAGgC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;AACA,MAAM8Q,OAAO,GAAG9Q,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAMkC,MAAM,GAAG4O,OAAO,CAAC5O,MAAvB;AACA,MAAMgB,UAAU,GAAG4N,OAAO,CAAC5N,UAA3B;;AAEA,MAAM6N,aAAa,GAAG/Q,OAAO,CAAC,iBAAD,CAA7B;;AACA,MAAMqQ,YAAY,GAAGU,aAAa,CAACV,YAAnC;AACA,MAAMK,gBAAgB,GAAGK,aAAa,CAACL,gBAAvC;;AAEA,MAAMM,YAAY,GAAGhR,OAAO,CAAC,gBAAD,CAA5B;;AACA,MAAM2Q,WAAW,GAAGK,YAAY,CAACL,WAAjC;AACA,MAAME,eAAe,GAAGG,YAAY,CAACH,eAArC;;AAEA,MAAM1F,UAAU,GAAGnL,OAAO,CAAC,gBAAD,CAAP,CAA0BmL,UAA7C;;AAEA,SAAS8F,aAAT,CAAwBpB,OAAxB,EAAiCC,OAAjC,EAA0Cc,IAA1C,EAAgDlQ,QAAhD,EAA0D;AACxDA,EAAAA,QAAQ,GAAI,OAAOkQ,IAAP,KAAgB,UAAjB,GAA+BA,IAA/B,GAAsClQ,QAAjD;AACAkQ,EAAAA,IAAI,GAAI,OAAOA,IAAP,KAAgB,UAAjB,GAA+B,KAA/B,GAAuCA,IAA9C;AAEAzF,EAAAA,UAAU,CAAC2E,OAAD,EAAU,CAACvQ,GAAD,EAAM0Q,iBAAN,KAA4B;AAC9C,QAAI1Q,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT,QAAI0Q,iBAAJ,EAAuB,OAAOvP,QAAQ,CAAC,IAAD,CAAf;AACvB2P,IAAAA,YAAY,CAACR,OAAD,EAAUC,OAAV,EAAmB,CAACvQ,GAAD,EAAMkR,QAAN,KAAmB;AAChD,UAAIlR,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTsQ,MAAAA,OAAO,GAAGY,QAAQ,CAACS,KAAnB;AACAP,MAAAA,WAAW,CAACF,QAAQ,CAACU,KAAV,EAAiBP,IAAjB,EAAuB,CAACrR,GAAD,EAAMqR,IAAN,KAAe;AAC/C,YAAIrR,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT,cAAM2P,GAAG,GAAGlR,IAAI,CAAC8E,OAAL,CAAagN,OAAb,CAAZ;AACA3E,QAAAA,UAAU,CAAC+D,GAAD,EAAM,CAAC3P,GAAD,EAAMoM,SAAN,KAAoB;AAClC,cAAIpM,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACT,cAAIoM,SAAJ,EAAe,OAAO1L,EAAE,CAAC8M,OAAH,CAAW8C,OAAX,EAAoBC,OAApB,EAA6Bc,IAA7B,EAAmClQ,QAAnC,CAAP;AACfwB,UAAAA,MAAM,CAACgN,GAAD,EAAM3P,GAAG,IAAI;AACjB,gBAAIA,GAAJ,EAAS,OAAOmB,QAAQ,CAACnB,GAAD,CAAf;AACTU,YAAAA,EAAE,CAAC8M,OAAH,CAAW8C,OAAX,EAAoBC,OAApB,EAA6Bc,IAA7B,EAAmClQ,QAAnC;AACD,WAHK,CAAN;AAID,SAPS,CAAV;AAQD,OAXU,CAAX;AAYD,KAfW,CAAZ;AAgBD,GAnBS,CAAV;AAoBD;;AAED,SAAS0Q,iBAAT,CAA4BvB,OAA5B,EAAqCC,OAArC,EAA8Cc,IAA9C,EAAoD;AAClD,QAAMX,iBAAiB,GAAGhQ,EAAE,CAAC4I,UAAH,CAAciH,OAAd,CAA1B;AACA,MAAIG,iBAAJ,EAAuB,OAAOvN,SAAP;AAEvB,QAAM+N,QAAQ,GAAGC,gBAAgB,CAACb,OAAD,EAAUC,OAAV,CAAjC;AACAD,EAAAA,OAAO,GAAGY,QAAQ,CAACS,KAAnB;AACAN,EAAAA,IAAI,GAAGC,eAAe,CAACJ,QAAQ,CAACU,KAAV,EAAiBP,IAAjB,CAAtB;AACA,QAAM1B,GAAG,GAAGlR,IAAI,CAAC8E,OAAL,CAAagN,OAAb,CAAZ;AACA,QAAMtP,MAAM,GAAGP,EAAE,CAAC4I,UAAH,CAAcqG,GAAd,CAAf;AACA,MAAI1O,MAAJ,EAAY,OAAOP,EAAE,CAAC+K,WAAH,CAAe6E,OAAf,EAAwBC,OAAxB,EAAiCc,IAAjC,CAAP;AACZ1N,EAAAA,UAAU,CAACgM,GAAD,CAAV;AACA,SAAOjP,EAAE,CAAC+K,WAAH,CAAe6E,OAAf,EAAwBC,OAAxB,EAAiCc,IAAjC,CAAP;AACD;;AAEDnS,MAAM,CAACC,OAAP,GAAiB;AACfuS,EAAAA,aAAa,EAAElR,CAAC,CAACkR,aAAD,CADD;AAEfG,EAAAA;AAFe,CAAjB;;AC3DA;;AAEA,MAAM3B,IAAI,GAAGzP,OAAO,CAAC,QAAD,CAApB;;AACA,MAAMgQ,IAAI,GAAGhQ,OAAO,CAAC,QAAD,CAApB;;AACA,MAAM+M,OAAO,GAAG/M,OAAO,CAAC,WAAD,CAAvB;;AAEAvB,MAAM,CAACC,OAAP,GAAiB;AACf;AACA8Q,EAAAA,UAAU,EAAEC,IAAI,CAACD,UAFF;AAGfG,EAAAA,cAAc,EAAEF,IAAI,CAACE,cAHN;AAIf0B,EAAAA,UAAU,EAAE5B,IAAI,CAACD,UAJF;AAKf8B,EAAAA,cAAc,EAAE7B,IAAI,CAACE,cALN;AAMf;AACAC,EAAAA,UAAU,EAAEI,IAAI,CAACJ,UAPF;AAQfO,EAAAA,cAAc,EAAEH,IAAI,CAACG,cARN;AASfoB,EAAAA,UAAU,EAAEvB,IAAI,CAACJ,UATF;AAUf4B,EAAAA,cAAc,EAAExB,IAAI,CAACG,cAVN;AAWf;AACAc,EAAAA,aAAa,EAAElE,OAAO,CAACkE,aAZR;AAafG,EAAAA,iBAAiB,EAAErE,OAAO,CAACqE,iBAbZ;AAcfK,EAAAA,aAAa,EAAE1E,OAAO,CAACkE,aAdR;AAefS,EAAAA,iBAAiB,EAAE3E,OAAO,CAACqE;AAfZ,CAAjB;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"index.js","sourceRoot":"../src","sourcesContent":[null,null,"// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","exports.alphasort = alphasort\nexports.alphasorti = alphasorti\nexports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasorti (a, b) {\n  return a.toLowerCase().localeCompare(b.toLowerCase())\n}\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b)\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(self.nocase ? alphasorti : alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function () {\n    if (typeof arguments[arguments.length - 1] === 'function') fn.apply(this, arguments)\n    else {\n      return new Promise((resolve, reject) => {\n        arguments[arguments.length] = (err, res) => {\n          if (err) return reject(err)\n          resolve(res)\n        }\n        arguments.length++\n        fn.apply(this, arguments)\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function () {\n    const cb = arguments[arguments.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, arguments)\n    else fn.apply(this, arguments).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\nvar chdir = process.chdir\nprocess.chdir = function(d) {\n  cwd = null\n  chdir.call(process, d)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    read.__proto__ = fs$read\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = clone\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: obj.__proto__ }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!global[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = []\n  Object.defineProperty(global, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          retry()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      retry()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(global[gracefulQueue])\n      require('assert').equal(global[gracefulQueue].length, 0)\n    })\n  }\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  global[gracefulQueue].push(elem)\n}\n\nfunction retry () {\n  var elem = global[gracefulQueue].shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","'use strict'\n// This is adapted from https://github.com/normalize/mz\n// Copyright (c) 2014-2016 Jonathan Ong me@jongleberry.com and Contributors\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\n\nconst api = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'copyFile',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchown',\n  'lchmod',\n  'link',\n  'lstat',\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'readFile',\n  'readdir',\n  'readlink',\n  'realpath',\n  'rename',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile'\n].filter(key => {\n  // Some commands are not available on some systems. Ex:\n  // fs.copyFile was added in Node.js v8.5.0\n  // fs.mkdtemp was added in Node.js v5.10.0\n  // fs.lchown is not available on at least some Linux\n  return typeof fs[key] === 'function'\n})\n\n// Export all keys:\nObject.keys(fs).forEach(key => {\n  if (key === 'promises') {\n    // fs.promises is a getter property that triggers ExperimentalWarning\n    // Don't re-export it here, the getter is defined in \"lib/index.js\"\n    return\n  }\n  exports[key] = fs[key]\n})\n\n// Universalify async methods:\napi.forEach(method => {\n  exports[method] = u(fs[method])\n})\n\n// We differ from mz/fs in that we still ship the old, broken, fs.exists()\n// since we are a drop-in replacement for the native module\nexports.exists = function (filename, callback) {\n  if (typeof callback === 'function') {\n    return fs.exists(filename, callback)\n  }\n  return new Promise(resolve => {\n    return fs.exists(filename, resolve)\n  })\n}\n\n// fs.read() & fs.write need special treatment due to multiple callback args\n\nexports.read = function (fd, buffer, offset, length, position, callback) {\n  if (typeof callback === 'function') {\n    return fs.read(fd, buffer, offset, length, position, callback)\n  }\n  return new Promise((resolve, reject) => {\n    fs.read(fd, buffer, offset, length, position, (err, bytesRead, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffer })\n    })\n  })\n}\n\n// Function signature can be\n// fs.write(fd, buffer[, offset[, length[, position]]], callback)\n// OR\n// fs.write(fd, string[, position[, encoding]], callback)\n// We need to handle both cases, so we use ...args\nexports.write = function (fd, buffer, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.write(fd, buffer, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.write(fd, buffer, ...args, (err, bytesWritten, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffer })\n    })\n  })\n}\n\n// fs.realpath.native only available in Node v9.2+\nif (typeof fs.realpath.native === 'function') {\n  exports.realpath.native = u(fs.realpath.native)\n}\n","'use strict'\n\nconst path = require('path')\n\n// get drive on windows\nfunction getRootPath (p) {\n  p = path.normalize(path.resolve(p)).split(path.sep)\n  if (p.length > 0) return p[0]\n  return null\n}\n\n// http://stackoverflow.com/a/62888/10333 contains more accurate\n// TODO: expand to include the rest\nconst INVALID_PATH_CHARS = /[<>:\"|?*]/\n\nfunction invalidWin32Path (p) {\n  const rp = getRootPath(p)\n  p = p.replace(rp, '')\n  return INVALID_PATH_CHARS.test(p)\n}\n\nmodule.exports = {\n  getRootPath,\n  invalidWin32Path\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst invalidWin32Path = require('./win32').invalidWin32Path\n\nconst o777 = parseInt('0777', 8)\n\nfunction mkdirs (p, opts, callback, made) {\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = {}\n  } else if (!opts || typeof opts !== 'object') {\n    opts = { mode: opts }\n  }\n\n  if (process.platform === 'win32' && invalidWin32Path(p)) {\n    const errInval = new Error(p + ' contains invalid WIN32 path characters.')\n    errInval.code = 'EINVAL'\n    return callback(errInval)\n  }\n\n  let mode = opts.mode\n  const xfs = opts.fs || fs\n\n  if (mode === undefined) {\n    mode = o777 & (~process.umask())\n  }\n  if (!made) made = null\n\n  callback = callback || function () {}\n  p = path.resolve(p)\n\n  xfs.mkdir(p, mode, er => {\n    if (!er) {\n      made = made || p\n      return callback(null, made)\n    }\n    switch (er.code) {\n      case 'ENOENT':\n        if (path.dirname(p) === p) return callback(er)\n        mkdirs(path.dirname(p), opts, (er, made) => {\n          if (er) callback(er, made)\n          else mkdirs(p, opts, callback, made)\n        })\n        break\n\n      // In the case of any other error, just see if there's a dir\n      // there already.  If so, then hooray!  If not, then something\n      // is borked.\n      default:\n        xfs.stat(p, (er2, stat) => {\n          // if the stat fails, then that's super weird.\n          // let the original error be the failure reason.\n          if (er2 || !stat.isDirectory()) callback(er, made)\n          else callback(null, made)\n        })\n        break\n    }\n  })\n}\n\nmodule.exports = mkdirs\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst invalidWin32Path = require('./win32').invalidWin32Path\n\nconst o777 = parseInt('0777', 8)\n\nfunction mkdirsSync (p, opts, made) {\n  if (!opts || typeof opts !== 'object') {\n    opts = { mode: opts }\n  }\n\n  let mode = opts.mode\n  const xfs = opts.fs || fs\n\n  if (process.platform === 'win32' && invalidWin32Path(p)) {\n    const errInval = new Error(p + ' contains invalid WIN32 path characters.')\n    errInval.code = 'EINVAL'\n    throw errInval\n  }\n\n  if (mode === undefined) {\n    mode = o777 & (~process.umask())\n  }\n  if (!made) made = null\n\n  p = path.resolve(p)\n\n  try {\n    xfs.mkdirSync(p, mode)\n    made = made || p\n  } catch (err0) {\n    if (err0.code === 'ENOENT') {\n      if (path.dirname(p) === p) throw err0\n      made = mkdirsSync(path.dirname(p), opts, made)\n      mkdirsSync(p, opts, made)\n    } else {\n      // In the case of any other error, just see if there's a dir there\n      // already. If so, then hooray!  If not, then something is borked.\n      let stat\n      try {\n        stat = xfs.statSync(p)\n      } catch (err1) {\n        throw err0\n      }\n      if (!stat.isDirectory()) throw err0\n    }\n  }\n\n  return made\n}\n\nmodule.exports = mkdirsSync\n","'use strict'\nconst u = require('universalify').fromCallback\nconst mkdirs = u(require('./mkdirs'))\nconst mkdirsSync = require('./mkdirs-sync')\n\nmodule.exports = {\n  mkdirs,\n  mkdirsSync,\n  // alias\n  mkdirp: mkdirs,\n  mkdirpSync: mkdirsSync,\n  ensureDir: mkdirs,\n  ensureDirSync: mkdirsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst os = require('os')\nconst path = require('path')\n\n// HFS, ext{2,3}, FAT do not, Node.js v0.10 does not\nfunction hasMillisResSync () {\n  let tmpfile = path.join('millis-test-sync' + Date.now().toString() + Math.random().toString().slice(2))\n  tmpfile = path.join(os.tmpdir(), tmpfile)\n\n  // 550 millis past UNIX epoch\n  const d = new Date(1435410243862)\n  fs.writeFileSync(tmpfile, 'https://github.com/jprichardson/node-fs-extra/pull/141')\n  const fd = fs.openSync(tmpfile, 'r+')\n  fs.futimesSync(fd, d, d)\n  fs.closeSync(fd)\n  return fs.statSync(tmpfile).mtime > 1435410243000\n}\n\nfunction hasMillisRes (callback) {\n  let tmpfile = path.join('millis-test' + Date.now().toString() + Math.random().toString().slice(2))\n  tmpfile = path.join(os.tmpdir(), tmpfile)\n\n  // 550 millis past UNIX epoch\n  const d = new Date(1435410243862)\n  fs.writeFile(tmpfile, 'https://github.com/jprichardson/node-fs-extra/pull/141', err => {\n    if (err) return callback(err)\n    fs.open(tmpfile, 'r+', (err, fd) => {\n      if (err) return callback(err)\n      fs.futimes(fd, d, d, err => {\n        if (err) return callback(err)\n        fs.close(fd, err => {\n          if (err) return callback(err)\n          fs.stat(tmpfile, (err, stats) => {\n            if (err) return callback(err)\n            callback(null, stats.mtime > 1435410243000)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction timeRemoveMillis (timestamp) {\n  if (typeof timestamp === 'number') {\n    return Math.floor(timestamp / 1000) * 1000\n  } else if (timestamp instanceof Date) {\n    return new Date(Math.floor(timestamp.getTime() / 1000) * 1000)\n  } else {\n    throw new Error('fs-extra: timeRemoveMillis() unknown parameter type')\n  }\n}\n\nfunction utimesMillis (path, atime, mtime, callback) {\n  // if (!HAS_MILLIS_RES) return fs.utimes(path, atime, mtime, callback)\n  fs.open(path, 'r+', (err, fd) => {\n    if (err) return callback(err)\n    fs.futimes(fd, atime, mtime, futimesErr => {\n      fs.close(fd, closeErr => {\n        if (callback) callback(futimesErr || closeErr)\n      })\n    })\n  })\n}\n\nfunction utimesMillisSync (path, atime, mtime) {\n  const fd = fs.openSync(path, 'r+')\n  fs.futimesSync(fd, atime, mtime)\n  return fs.closeSync(fd)\n}\n\nmodule.exports = {\n  hasMillisRes,\n  hasMillisResSync,\n  timeRemoveMillis,\n  utimesMillis,\n  utimesMillisSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\n\nconst NODE_VERSION_MAJOR_WITH_BIGINT = 10\nconst NODE_VERSION_MINOR_WITH_BIGINT = 5\nconst NODE_VERSION_PATCH_WITH_BIGINT = 0\nconst nodeVersion = process.versions.node.split('.')\nconst nodeVersionMajor = Number.parseInt(nodeVersion[0], 10)\nconst nodeVersionMinor = Number.parseInt(nodeVersion[1], 10)\nconst nodeVersionPatch = Number.parseInt(nodeVersion[2], 10)\n\nfunction nodeSupportsBigInt () {\n  if (nodeVersionMajor > NODE_VERSION_MAJOR_WITH_BIGINT) {\n    return true\n  } else if (nodeVersionMajor === NODE_VERSION_MAJOR_WITH_BIGINT) {\n    if (nodeVersionMinor > NODE_VERSION_MINOR_WITH_BIGINT) {\n      return true\n    } else if (nodeVersionMinor === NODE_VERSION_MINOR_WITH_BIGINT) {\n      if (nodeVersionPatch >= NODE_VERSION_PATCH_WITH_BIGINT) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nfunction getStats (src, dest, cb) {\n  if (nodeSupportsBigInt()) {\n    fs.stat(src, { bigint: true }, (err, srcStat) => {\n      if (err) return cb(err)\n      fs.stat(dest, { bigint: true }, (err, destStat) => {\n        if (err) {\n          if (err.code === 'ENOENT') return cb(null, { srcStat, destStat: null })\n          return cb(err)\n        }\n        return cb(null, { srcStat, destStat })\n      })\n    })\n  } else {\n    fs.stat(src, (err, srcStat) => {\n      if (err) return cb(err)\n      fs.stat(dest, (err, destStat) => {\n        if (err) {\n          if (err.code === 'ENOENT') return cb(null, { srcStat, destStat: null })\n          return cb(err)\n        }\n        return cb(null, { srcStat, destStat })\n      })\n    })\n  }\n}\n\nfunction getStatsSync (src, dest) {\n  let srcStat, destStat\n  if (nodeSupportsBigInt()) {\n    srcStat = fs.statSync(src, { bigint: true })\n  } else {\n    srcStat = fs.statSync(src)\n  }\n  try {\n    if (nodeSupportsBigInt()) {\n      destStat = fs.statSync(dest, { bigint: true })\n    } else {\n      destStat = fs.statSync(dest)\n    }\n  } catch (err) {\n    if (err.code === 'ENOENT') return { srcStat, destStat: null }\n    throw err\n  }\n  return { srcStat, destStat }\n}\n\nfunction checkPaths (src, dest, funcName, cb) {\n  getStats(src, dest, (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    if (destStat && destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n      return cb(new Error('Source and destination must not be the same.'))\n    }\n    if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n      return cb(new Error(errMsg(src, dest, funcName)))\n    }\n    return cb(null, { srcStat, destStat })\n  })\n}\n\nfunction checkPathsSync (src, dest, funcName) {\n  const { srcStat, destStat } = getStatsSync(src, dest)\n  if (destStat && destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n    throw new Error('Source and destination must not be the same.')\n  }\n  if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return { srcStat, destStat }\n}\n\n// recursively check if dest parent is a subdirectory of src.\n// It works for all file types including symlinks since it\n// checks the src and dest inodes. It starts from the deepest\n// parent and stops once it reaches the src parent or the root path.\nfunction checkParentPaths (src, srcStat, dest, funcName, cb) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return cb()\n  if (nodeSupportsBigInt()) {\n    fs.stat(destParent, { bigint: true }, (err, destStat) => {\n      if (err) {\n        if (err.code === 'ENOENT') return cb()\n        return cb(err)\n      }\n      if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n        return cb(new Error(errMsg(src, dest, funcName)))\n      }\n      return checkParentPaths(src, srcStat, destParent, funcName, cb)\n    })\n  } else {\n    fs.stat(destParent, (err, destStat) => {\n      if (err) {\n        if (err.code === 'ENOENT') return cb()\n        return cb(err)\n      }\n      if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n        return cb(new Error(errMsg(src, dest, funcName)))\n      }\n      return checkParentPaths(src, srcStat, destParent, funcName, cb)\n    })\n  }\n}\n\nfunction checkParentPathsSync (src, srcStat, dest, funcName) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return\n  let destStat\n  try {\n    if (nodeSupportsBigInt()) {\n      destStat = fs.statSync(destParent, { bigint: true })\n    } else {\n      destStat = fs.statSync(destParent)\n    }\n  } catch (err) {\n    if (err.code === 'ENOENT') return\n    throw err\n  }\n  if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return checkParentPathsSync(src, srcStat, destParent, funcName)\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// It only checks the path strings.\nfunction isSrcSubdir (src, dest) {\n  const srcArr = path.resolve(src).split(path.sep).filter(i => i)\n  const destArr = path.resolve(dest).split(path.sep).filter(i => i)\n  return srcArr.reduce((acc, cur, i) => acc && destArr[i] === cur, true)\n}\n\nfunction errMsg (src, dest, funcName) {\n  return `Cannot ${funcName} '${src}' to a subdirectory of itself, '${dest}'.`\n}\n\nmodule.exports = {\n  checkPaths,\n  checkPathsSync,\n  checkParentPaths,\n  checkParentPathsSync,\n  isSrcSubdir\n}\n","'use strict'\n/* eslint-disable node/no-deprecated-api */\nmodule.exports = function (size) {\n  if (typeof Buffer.allocUnsafe === 'function') {\n    try {\n      return Buffer.allocUnsafe(size)\n    } catch (e) {\n      return new Buffer(size)\n    }\n  }\n  return new Buffer(size)\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirpSync = require('../mkdirs').mkdirsSync\nconst utimesSync = require('../util/utimes.js').utimesMillisSync\nconst stat = require('../util/stat')\n\nfunction copySync (src, dest, opts) {\n  if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  opts = opts || {}\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  const { srcStat, destStat } = stat.checkPathsSync(src, dest, 'copy')\n  stat.checkParentPathsSync(src, srcStat, dest, 'copy')\n  return handleFilterAndCopy(destStat, src, dest, opts)\n}\n\nfunction handleFilterAndCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  const destParent = path.dirname(dest)\n  if (!fs.existsSync(destParent)) mkdirpSync(destParent)\n  return startCopy(destStat, src, dest, opts)\n}\n\nfunction startCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  return getStats(destStat, src, dest, opts)\n}\n\nfunction getStats (destStat, src, dest, opts) {\n  const statSync = opts.dereference ? fs.statSync : fs.lstatSync\n  const srcStat = statSync(src)\n\n  if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isFile() ||\n           srcStat.isCharacterDevice() ||\n           srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts)\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts)\n  return mayCopyFile(srcStat, src, dest, opts)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts) {\n  if (opts.overwrite) {\n    fs.unlinkSync(dest)\n    return copyFile(srcStat, src, dest, opts)\n  } else if (opts.errorOnExist) {\n    throw new Error(`'${dest}' already exists`)\n  }\n}\n\nfunction copyFile (srcStat, src, dest, opts) {\n  if (typeof fs.copyFileSync === 'function') {\n    fs.copyFileSync(src, dest)\n    fs.chmodSync(dest, srcStat.mode)\n    if (opts.preserveTimestamps) {\n      return utimesSync(dest, srcStat.atime, srcStat.mtime)\n    }\n    return\n  }\n  return copyFileFallback(srcStat, src, dest, opts)\n}\n\nfunction copyFileFallback (srcStat, src, dest, opts) {\n  const BUF_LENGTH = 64 * 1024\n  const _buff = require('../util/buffer')(BUF_LENGTH)\n\n  const fdr = fs.openSync(src, 'r')\n  const fdw = fs.openSync(dest, 'w', srcStat.mode)\n  let pos = 0\n\n  while (pos < srcStat.size) {\n    const bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos)\n    fs.writeSync(fdw, _buff, 0, bytesRead)\n    pos += bytesRead\n  }\n\n  if (opts.preserveTimestamps) fs.futimesSync(fdw, srcStat.atime, srcStat.mtime)\n\n  fs.closeSync(fdr)\n  fs.closeSync(fdw)\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return mkDirAndCopy(srcStat, src, dest, opts)\n  if (destStat && !destStat.isDirectory()) {\n    throw new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`)\n  }\n  return copyDir(src, dest, opts)\n}\n\nfunction mkDirAndCopy (srcStat, src, dest, opts) {\n  fs.mkdirSync(dest)\n  copyDir(src, dest, opts)\n  return fs.chmodSync(dest, srcStat.mode)\n}\n\nfunction copyDir (src, dest, opts) {\n  fs.readdirSync(src).forEach(item => copyDirItem(item, src, dest, opts))\n}\n\nfunction copyDirItem (item, src, dest, opts) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  const { destStat } = stat.checkPathsSync(srcItem, destItem, 'copy')\n  return startCopy(destStat, srcItem, destItem, opts)\n}\n\nfunction onLink (destStat, src, dest, opts) {\n  let resolvedSrc = fs.readlinkSync(src)\n  if (opts.dereference) {\n    resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n  }\n\n  if (!destStat) {\n    return fs.symlinkSync(resolvedSrc, dest)\n  } else {\n    let resolvedDest\n    try {\n      resolvedDest = fs.readlinkSync(dest)\n    } catch (err) {\n      // dest exists and is a regular file or directory,\n      // Windows may throw UNKNOWN error. If dest already exists,\n      // fs throws error anyway, so no need to guard against it here.\n      if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlinkSync(resolvedSrc, dest)\n      throw err\n    }\n    if (opts.dereference) {\n      resolvedDest = path.resolve(process.cwd(), resolvedDest)\n    }\n    if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n      throw new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`)\n    }\n\n    // prevent copy if src is a subdir of dest since unlinking\n    // dest in this case would result in removing src contents\n    // and therefore a broken symlink would be created.\n    if (fs.statSync(dest).isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n      throw new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`)\n    }\n    return copyLink(resolvedSrc, dest)\n  }\n}\n\nfunction copyLink (resolvedSrc, dest) {\n  fs.unlinkSync(dest)\n  return fs.symlinkSync(resolvedSrc, dest)\n}\n\nmodule.exports = copySync\n","'use strict'\n\nmodule.exports = {\n  copySync: require('./copy-sync')\n}\n","'use strict'\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\n\nfunction pathExists (path) {\n  return fs.access(path).then(() => true).catch(() => false)\n}\n\nmodule.exports = {\n  pathExists: u(pathExists),\n  pathExistsSync: fs.existsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirp = require('../mkdirs').mkdirs\nconst pathExists = require('../path-exists').pathExists\nconst utimes = require('../util/utimes').utimesMillis\nconst stat = require('../util/stat')\n\nfunction copy (src, dest, opts, cb) {\n  if (typeof opts === 'function' && !cb) {\n    cb = opts\n    opts = {}\n  } else if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  cb = cb || function () {}\n  opts = opts || {}\n\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  stat.checkPaths(src, dest, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'copy', err => {\n      if (err) return cb(err)\n      if (opts.filter) return handleFilter(checkParentDir, destStat, src, dest, opts, cb)\n      return checkParentDir(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction checkParentDir (destStat, src, dest, opts, cb) {\n  const destParent = path.dirname(dest)\n  pathExists(destParent, (err, dirExists) => {\n    if (err) return cb(err)\n    if (dirExists) return startCopy(destStat, src, dest, opts, cb)\n    mkdirp(destParent, err => {\n      if (err) return cb(err)\n      return startCopy(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction handleFilter (onInclude, destStat, src, dest, opts, cb) {\n  Promise.resolve(opts.filter(src, dest)).then(include => {\n    if (include) return onInclude(destStat, src, dest, opts, cb)\n    return cb()\n  }, error => cb(error))\n}\n\nfunction startCopy (destStat, src, dest, opts, cb) {\n  if (opts.filter) return handleFilter(getStats, destStat, src, dest, opts, cb)\n  return getStats(destStat, src, dest, opts, cb)\n}\n\nfunction getStats (destStat, src, dest, opts, cb) {\n  const stat = opts.dereference ? fs.stat : fs.lstat\n  stat(src, (err, srcStat) => {\n    if (err) return cb(err)\n\n    if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isFile() ||\n             srcStat.isCharacterDevice() ||\n             srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts, cb)\n  })\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts, cb)\n  return mayCopyFile(srcStat, src, dest, opts, cb)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts, cb) {\n  if (opts.overwrite) {\n    fs.unlink(dest, err => {\n      if (err) return cb(err)\n      return copyFile(srcStat, src, dest, opts, cb)\n    })\n  } else if (opts.errorOnExist) {\n    return cb(new Error(`'${dest}' already exists`))\n  } else return cb()\n}\n\nfunction copyFile (srcStat, src, dest, opts, cb) {\n  if (typeof fs.copyFile === 'function') {\n    return fs.copyFile(src, dest, err => {\n      if (err) return cb(err)\n      return setDestModeAndTimestamps(srcStat, dest, opts, cb)\n    })\n  }\n  return copyFileFallback(srcStat, src, dest, opts, cb)\n}\n\nfunction copyFileFallback (srcStat, src, dest, opts, cb) {\n  const rs = fs.createReadStream(src)\n  rs.on('error', err => cb(err)).once('open', () => {\n    const ws = fs.createWriteStream(dest, { mode: srcStat.mode })\n    ws.on('error', err => cb(err))\n      .on('open', () => rs.pipe(ws))\n      .once('close', () => setDestModeAndTimestamps(srcStat, dest, opts, cb))\n  })\n}\n\nfunction setDestModeAndTimestamps (srcStat, dest, opts, cb) {\n  fs.chmod(dest, srcStat.mode, err => {\n    if (err) return cb(err)\n    if (opts.preserveTimestamps) {\n      return utimes(dest, srcStat.atime, srcStat.mtime, cb)\n    }\n    return cb()\n  })\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return mkDirAndCopy(srcStat, src, dest, opts, cb)\n  if (destStat && !destStat.isDirectory()) {\n    return cb(new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`))\n  }\n  return copyDir(src, dest, opts, cb)\n}\n\nfunction mkDirAndCopy (srcStat, src, dest, opts, cb) {\n  fs.mkdir(dest, err => {\n    if (err) return cb(err)\n    copyDir(src, dest, opts, err => {\n      if (err) return cb(err)\n      return fs.chmod(dest, srcStat.mode, cb)\n    })\n  })\n}\n\nfunction copyDir (src, dest, opts, cb) {\n  fs.readdir(src, (err, items) => {\n    if (err) return cb(err)\n    return copyDirItems(items, src, dest, opts, cb)\n  })\n}\n\nfunction copyDirItems (items, src, dest, opts, cb) {\n  const item = items.pop()\n  if (!item) return cb()\n  return copyDirItem(items, item, src, dest, opts, cb)\n}\n\nfunction copyDirItem (items, item, src, dest, opts, cb) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  stat.checkPaths(srcItem, destItem, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { destStat } = stats\n    startCopy(destStat, srcItem, destItem, opts, err => {\n      if (err) return cb(err)\n      return copyDirItems(items, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction onLink (destStat, src, dest, opts, cb) {\n  fs.readlink(src, (err, resolvedSrc) => {\n    if (err) return cb(err)\n    if (opts.dereference) {\n      resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n    }\n\n    if (!destStat) {\n      return fs.symlink(resolvedSrc, dest, cb)\n    } else {\n      fs.readlink(dest, (err, resolvedDest) => {\n        if (err) {\n          // dest exists and is a regular file or directory,\n          // Windows may throw UNKNOWN error. If dest already exists,\n          // fs throws error anyway, so no need to guard against it here.\n          if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest, cb)\n          return cb(err)\n        }\n        if (opts.dereference) {\n          resolvedDest = path.resolve(process.cwd(), resolvedDest)\n        }\n        if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n          return cb(new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`))\n        }\n\n        // do not copy if src is a subdir of dest since unlinking\n        // dest in this case would result in removing src contents\n        // and therefore a broken symlink would be created.\n        if (destStat.isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n          return cb(new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`))\n        }\n        return copyLink(resolvedSrc, dest, cb)\n      })\n    }\n  })\n}\n\nfunction copyLink (resolvedSrc, dest, cb) {\n  fs.unlink(dest, err => {\n    if (err) return cb(err)\n    return fs.symlink(resolvedSrc, dest, cb)\n  })\n}\n\nmodule.exports = copy\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  copy: u(require('./copy'))\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst assert = require('assert')\n\nconst isWindows = (process.platform === 'win32')\n\nfunction defaults (options) {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n}\n\nfunction rimraf (p, options, cb) {\n  let busyTries = 0\n\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert.strictEqual(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  rimraf_(p, options, function CB (er) {\n    if (er) {\n      if ((er.code === 'EBUSY' || er.code === 'ENOTEMPTY' || er.code === 'EPERM') &&\n          busyTries < options.maxBusyTries) {\n        busyTries++\n        const time = busyTries * 100\n        // try again, with the same exact callback as this one.\n        return setTimeout(() => rimraf_(p, options, CB), time)\n      }\n\n      // already gone\n      if (er.code === 'ENOENT') er = null\n    }\n\n    cb(er)\n  })\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === 'ENOENT') {\n      return cb(null)\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === 'EPERM' && isWindows) {\n      return fixWinEPERM(p, options, er, cb)\n    }\n\n    if (st && st.isDirectory()) {\n      return rmdir(p, options, er, cb)\n    }\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === 'ENOENT') {\n          return cb(null)\n        }\n        if (er.code === 'EPERM') {\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        }\n        if (er.code === 'EISDIR') {\n          return rmdir(p, options, er, cb)\n        }\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n  if (er) {\n    assert(er instanceof Error)\n  }\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2) {\n      cb(er2.code === 'ENOENT' ? null : er)\n    } else {\n      options.stat(p, (er3, stats) => {\n        if (er3) {\n          cb(er3.code === 'ENOENT' ? null : er)\n        } else if (stats.isDirectory()) {\n          rmdir(p, options, er, cb)\n        } else {\n          options.unlink(p, cb)\n        }\n      })\n    }\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  let stats\n\n  assert(p)\n  assert(options)\n  if (er) {\n    assert(er instanceof Error)\n  }\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  if (stats.isDirectory()) {\n    rmdirSync(p, options, er)\n  } else {\n    options.unlinkSync(p)\n  }\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  if (originalEr) {\n    assert(originalEr instanceof Error)\n  }\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM')) {\n      rmkids(p, options, cb)\n    } else if (er && er.code === 'ENOTDIR') {\n      cb(originalEr)\n    } else {\n      cb(er)\n    }\n  })\n}\n\nfunction rmkids (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er) return cb(er)\n\n    let n = files.length\n    let errState\n\n    if (n === 0) return options.rmdir(p, cb)\n\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState) {\n          return\n        }\n        if (er) return cb(errState = er)\n        if (--n === 0) {\n          options.rmdir(p, cb)\n        }\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  let st\n\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  try {\n    st = options.lstatSync(p)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er.code === 'EPERM' && isWindows) {\n      fixWinEPERMSync(p, options, er)\n    }\n  }\n\n  try {\n    // sunos lets the root user unlink directories, which is... weird.\n    if (st && st.isDirectory()) {\n      rmdirSync(p, options, null)\n    } else {\n      options.unlinkSync(p)\n    }\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    } else if (er.code === 'EPERM') {\n      return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n    } else if (er.code !== 'EISDIR') {\n      throw er\n    }\n    rmdirSync(p, options, er)\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n  if (originalEr) {\n    assert(originalEr instanceof Error)\n  }\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === 'ENOTDIR') {\n      throw originalEr\n    } else if (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM') {\n      rmkidsSync(p, options)\n    } else if (er.code !== 'ENOENT') {\n      throw er\n    }\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  if (isWindows) {\n    // We only end up here once we got ENOTEMPTY at least once, and\n    // at this point, we are guaranteed to have removed all the kids.\n    // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n    // try really hard to delete stuff on windows, because it has a\n    // PROFOUNDLY annoying habit of not closing handles promptly when\n    // files are deleted, resulting in spurious ENOTEMPTY errors.\n    const startTime = Date.now()\n    do {\n      try {\n        const ret = options.rmdirSync(p, options)\n        return ret\n      } catch (er) { }\n    } while (Date.now() - startTime < 500) // give up after 500ms\n  } else {\n    const ret = options.rmdirSync(p, options)\n    return ret\n  }\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst rimraf = require('./rimraf')\n\nmodule.exports = {\n  remove: u(rimraf),\n  removeSync: rimraf.sync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst remove = require('../remove')\n\nconst emptyDir = u(function emptyDir (dir, callback) {\n  callback = callback || function () {}\n  fs.readdir(dir, (err, items) => {\n    if (err) return mkdir.mkdirs(dir, callback)\n\n    items = items.map(item => path.join(dir, item))\n\n    deleteItem()\n\n    function deleteItem () {\n      const item = items.pop()\n      if (!item) return callback()\n      remove.remove(item, err => {\n        if (err) return callback(err)\n        deleteItem()\n      })\n    }\n  })\n})\n\nfunction emptyDirSync (dir) {\n  let items\n  try {\n    items = fs.readdirSync(dir)\n  } catch (err) {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(item => {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir,\n  emptydir: emptyDir\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createFile (file, callback) {\n  function makeFile () {\n    fs.writeFile(file, '', err => {\n      if (err) return callback(err)\n      callback()\n    })\n  }\n\n  fs.stat(file, (err, stats) => { // eslint-disable-line handle-callback-err\n    if (!err && stats.isFile()) return callback()\n    const dir = path.dirname(file)\n    pathExists(dir, (err, dirExists) => {\n      if (err) return callback(err)\n      if (dirExists) return makeFile()\n      mkdir.mkdirs(dir, err => {\n        if (err) return callback(err)\n        makeFile()\n      })\n    })\n  })\n}\n\nfunction createFileSync (file) {\n  let stats\n  try {\n    stats = fs.statSync(file)\n  } catch (e) {}\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  fs.writeFileSync(file, '')\n}\n\nmodule.exports = {\n  createFile: u(createFile),\n  createFileSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createLink (srcpath, dstpath, callback) {\n  function makeLink (srcpath, dstpath) {\n    fs.link(srcpath, dstpath, err => {\n      if (err) return callback(err)\n      callback(null)\n    })\n  }\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureLink')\n        return callback(err)\n      }\n\n      const dir = path.dirname(dstpath)\n      pathExists(dir, (err, dirExists) => {\n        if (err) return callback(err)\n        if (dirExists) return makeLink(srcpath, dstpath)\n        mkdir.mkdirs(dir, err => {\n          if (err) return callback(err)\n          makeLink(srcpath, dstpath)\n        })\n      })\n    })\n  })\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  try {\n    fs.lstatSync(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n","'use strict'\n\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst pathExists = require('../path-exists').pathExists\n\n/**\n * Function that returns two types of paths, one relative to symlink, and one\n * relative to the current working directory. Checks if path is absolute or\n * relative. If the path is relative, this function checks if the path is\n * relative to symlink or relative to current working directory. This is an\n * initiative to find a smarter `srcpath` to supply when building symlinks.\n * This allows you to determine which path to use out of one of three possible\n * types of source paths. The first is an absolute path. This is detected by\n * `path.isAbsolute()`. When an absolute path is provided, it is checked to\n * see if it exists. If it does it's used, if not an error is returned\n * (callback)/ thrown (sync). The other two options for `srcpath` are a\n * relative url. By default Node's `fs.symlink` works by creating a symlink\n * using `dstpath` and expects the `srcpath` to be relative to the newly\n * created symlink. If you provide a `srcpath` that does not exist on the file\n * system it results in a broken symlink. To minimize this, the function\n * checks to see if the 'relative to symlink' source file exists, and if it\n * does it will use it. If it does not, it checks if there's a file that\n * exists that is relative to the current working directory, if does its used.\n * This preserves the expectations of the original fs.symlink spec and adds\n * the ability to pass in `relative to current working direcotry` paths.\n */\n\nfunction symlinkPaths (srcpath, dstpath, callback) {\n  if (path.isAbsolute(srcpath)) {\n    return fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureSymlink')\n        return callback(err)\n      }\n      return callback(null, {\n        'toCwd': srcpath,\n        'toDst': srcpath\n      })\n    })\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    return pathExists(relativeToDst, (err, exists) => {\n      if (err) return callback(err)\n      if (exists) {\n        return callback(null, {\n          'toCwd': relativeToDst,\n          'toDst': srcpath\n        })\n      } else {\n        return fs.lstat(srcpath, (err) => {\n          if (err) {\n            err.message = err.message.replace('lstat', 'ensureSymlink')\n            return callback(err)\n          }\n          return callback(null, {\n            'toCwd': srcpath,\n            'toDst': path.relative(dstdir, srcpath)\n          })\n        })\n      }\n    })\n  }\n}\n\nfunction symlinkPathsSync (srcpath, dstpath) {\n  let exists\n  if (path.isAbsolute(srcpath)) {\n    exists = fs.existsSync(srcpath)\n    if (!exists) throw new Error('absolute srcpath does not exist')\n    return {\n      'toCwd': srcpath,\n      'toDst': srcpath\n    }\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    exists = fs.existsSync(relativeToDst)\n    if (exists) {\n      return {\n        'toCwd': relativeToDst,\n        'toDst': srcpath\n      }\n    } else {\n      exists = fs.existsSync(srcpath)\n      if (!exists) throw new Error('relative srcpath does not exist')\n      return {\n        'toCwd': srcpath,\n        'toDst': path.relative(dstdir, srcpath)\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  symlinkPaths,\n  symlinkPathsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction symlinkType (srcpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n  if (type) return callback(null, type)\n  fs.lstat(srcpath, (err, stats) => {\n    if (err) return callback(null, 'file')\n    type = (stats && stats.isDirectory()) ? 'dir' : 'file'\n    callback(null, type)\n  })\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  let stats\n\n  if (type) return type\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch (e) {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType,\n  symlinkTypeSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst _mkdirs = require('../mkdirs')\nconst mkdirs = _mkdirs.mkdirs\nconst mkdirsSync = _mkdirs.mkdirsSync\n\nconst _symlinkPaths = require('./symlink-paths')\nconst symlinkPaths = _symlinkPaths.symlinkPaths\nconst symlinkPathsSync = _symlinkPaths.symlinkPathsSync\n\nconst _symlinkType = require('./symlink-type')\nconst symlinkType = _symlinkType.symlinkType\nconst symlinkTypeSync = _symlinkType.symlinkTypeSync\n\nconst pathExists = require('../path-exists').pathExists\n\nfunction createSymlink (srcpath, dstpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    symlinkPaths(srcpath, dstpath, (err, relative) => {\n      if (err) return callback(err)\n      srcpath = relative.toDst\n      symlinkType(relative.toCwd, type, (err, type) => {\n        if (err) return callback(err)\n        const dir = path.dirname(dstpath)\n        pathExists(dir, (err, dirExists) => {\n          if (err) return callback(err)\n          if (dirExists) return fs.symlink(srcpath, dstpath, type, callback)\n          mkdirs(dir, err => {\n            if (err) return callback(err)\n            fs.symlink(srcpath, dstpath, type, callback)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction createSymlinkSync (srcpath, dstpath, type) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  const relative = symlinkPathsSync(srcpath, dstpath)\n  srcpath = relative.toDst\n  type = symlinkTypeSync(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n  const exists = fs.existsSync(dir)\n  if (exists) return fs.symlinkSync(srcpath, dstpath, type)\n  mkdirsSync(dir)\n  return fs.symlinkSync(srcpath, dstpath, type)\n}\n\nmodule.exports = {\n  createSymlink: u(createSymlink),\n  createSymlinkSync\n}\n","'use strict'\n\nconst file = require('./file')\nconst link = require('./link')\nconst symlink = require('./symlink')\n\nmodule.exports = {\n  // file\n  createFile: file.createFile,\n  createFileSync: file.createFileSync,\n  ensureFile: file.createFile,\n  ensureFileSync: file.createFileSync,\n  // link\n  createLink: link.createLink,\n  createLinkSync: link.createLinkSync,\n  ensureLink: link.createLink,\n  ensureLinkSync: link.createLinkSync,\n  // symlink\n  createSymlink: symlink.createSymlink,\n  createSymlinkSync: symlink.createSymlinkSync,\n  ensureSymlink: symlink.createSymlink,\n  ensureSymlinkSync: symlink.createSymlinkSync\n}\n","var _fs\ntry {\n  _fs = require('graceful-fs')\n} catch (_) {\n  _fs = require('fs')\n}\n\nfunction readFile (file, options, callback) {\n  if (callback == null) {\n    callback = options\n    options = {}\n  }\n\n  if (typeof options === 'string') {\n    options = {encoding: options}\n  }\n\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var shouldThrow = true\n  if ('throws' in options) {\n    shouldThrow = options.throws\n  }\n\n  fs.readFile(file, options, function (err, data) {\n    if (err) return callback(err)\n\n    data = stripBom(data)\n\n    var obj\n    try {\n      obj = JSON.parse(data, options ? options.reviver : null)\n    } catch (err2) {\n      if (shouldThrow) {\n        err2.message = file + ': ' + err2.message\n        return callback(err2)\n      } else {\n        return callback(null, null)\n      }\n    }\n\n    callback(null, obj)\n  })\n}\n\nfunction readFileSync (file, options) {\n  options = options || {}\n  if (typeof options === 'string') {\n    options = {encoding: options}\n  }\n\n  var fs = options.fs || _fs\n\n  var shouldThrow = true\n  if ('throws' in options) {\n    shouldThrow = options.throws\n  }\n\n  try {\n    var content = fs.readFileSync(file, options)\n    content = stripBom(content)\n    return JSON.parse(content, options.reviver)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = file + ': ' + err.message\n      throw err\n    } else {\n      return null\n    }\n  }\n}\n\nfunction stringify (obj, options) {\n  var spaces\n  var EOL = '\\n'\n  if (typeof options === 'object' && options !== null) {\n    if (options.spaces) {\n      spaces = options.spaces\n    }\n    if (options.EOL) {\n      EOL = options.EOL\n    }\n  }\n\n  var str = JSON.stringify(obj, options ? options.replacer : null, spaces)\n\n  return str.replace(/\\n/g, EOL) + EOL\n}\n\nfunction writeFile (file, obj, options, callback) {\n  if (callback == null) {\n    callback = options\n    options = {}\n  }\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var str = ''\n  try {\n    str = stringify(obj, options)\n  } catch (err) {\n    // Need to return whether a callback was passed or not\n    if (callback) callback(err, null)\n    return\n  }\n\n  fs.writeFile(file, str, options, callback)\n}\n\nfunction writeFileSync (file, obj, options) {\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var str = stringify(obj, options)\n  // not sure if fs.writeFileSync returns anything, but just in case\n  return fs.writeFileSync(file, str, options)\n}\n\nfunction stripBom (content) {\n  // we do this because JSON.parse would convert it to a utf8 string if encoding wasn't specified\n  if (Buffer.isBuffer(content)) content = content.toString('utf8')\n  content = content.replace(/^\\uFEFF/, '')\n  return content\n}\n\nvar jsonfile = {\n  readFile: readFile,\n  readFileSync: readFileSync,\n  writeFile: writeFile,\n  writeFileSync: writeFileSync\n}\n\nmodule.exports = jsonfile\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst jsonFile = require('jsonfile')\n\nmodule.exports = {\n  // jsonfile exports\n  readJson: u(jsonFile.readFile),\n  readJsonSync: jsonFile.readFileSync,\n  writeJson: u(jsonFile.writeFile),\n  writeJsonSync: jsonFile.writeFileSync\n}\n","'use strict'\n\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\nconst jsonFile = require('./jsonfile')\n\nfunction outputJson (file, data, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  const dir = path.dirname(file)\n\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return jsonFile.writeJson(file, data, options, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n      jsonFile.writeJson(file, data, options, callback)\n    })\n  })\n}\n\nmodule.exports = outputJson\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst jsonFile = require('./jsonfile')\n\nfunction outputJsonSync (file, data, options) {\n  const dir = path.dirname(file)\n\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  jsonFile.writeJsonSync(file, data, options)\n}\n\nmodule.exports = outputJsonSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst jsonFile = require('./jsonfile')\n\njsonFile.outputJson = u(require('./output-json'))\njsonFile.outputJsonSync = require('./output-json-sync')\n// aliases\njsonFile.outputJSON = jsonFile.outputJson\njsonFile.outputJSONSync = jsonFile.outputJsonSync\njsonFile.writeJSON = jsonFile.writeJson\njsonFile.writeJSONSync = jsonFile.writeJsonSync\njsonFile.readJSON = jsonFile.readJson\njsonFile.readJSONSync = jsonFile.readJsonSync\n\nmodule.exports = jsonFile\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy-sync').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirpSync\nconst stat = require('../util/stat')\n\nfunction moveSync (src, dest, opts) {\n  opts = opts || {}\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat } = stat.checkPathsSync(src, dest, 'move')\n  stat.checkParentPathsSync(src, srcStat, dest, 'move')\n  mkdirpSync(path.dirname(dest))\n  return doRename(src, dest, overwrite)\n}\n\nfunction doRename (src, dest, overwrite) {\n  if (overwrite) {\n    removeSync(dest)\n    return rename(src, dest, overwrite)\n  }\n  if (fs.existsSync(dest)) throw new Error('dest already exists.')\n  return rename(src, dest, overwrite)\n}\n\nfunction rename (src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err\n    return moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copySync(src, dest, opts)\n  return removeSync(src)\n}\n\nmodule.exports = moveSync\n","'use strict'\n\nmodule.exports = {\n  moveSync: require('./move-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copy = require('../copy').copy\nconst remove = require('../remove').remove\nconst mkdirp = require('../mkdirs').mkdirp\nconst pathExists = require('../path-exists').pathExists\nconst stat = require('../util/stat')\n\nfunction move (src, dest, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  stat.checkPaths(src, dest, 'move', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'move', err => {\n      if (err) return cb(err)\n      mkdirp(path.dirname(dest), err => {\n        if (err) return cb(err)\n        return doRename(src, dest, overwrite, cb)\n      })\n    })\n  })\n}\n\nfunction doRename (src, dest, overwrite, cb) {\n  if (overwrite) {\n    return remove(dest, err => {\n      if (err) return cb(err)\n      return rename(src, dest, overwrite, cb)\n    })\n  }\n  pathExists(dest, (err, destExists) => {\n    if (err) return cb(err)\n    if (destExists) return cb(new Error('dest already exists.'))\n    return rename(src, dest, overwrite, cb)\n  })\n}\n\nfunction rename (src, dest, overwrite, cb) {\n  fs.rename(src, dest, err => {\n    if (!err) return cb()\n    if (err.code !== 'EXDEV') return cb(err)\n    return moveAcrossDevice(src, dest, overwrite, cb)\n  })\n}\n\nfunction moveAcrossDevice (src, dest, overwrite, cb) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copy(src, dest, opts, err => {\n    if (err) return cb(err)\n    return remove(src, cb)\n  })\n}\n\nmodule.exports = move\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  move: u(require('./move'))\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction outputFile (file, data, encoding, callback) {\n  if (typeof encoding === 'function') {\n    callback = encoding\n    encoding = 'utf8'\n  }\n\n  const dir = path.dirname(file)\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return fs.writeFile(file, data, encoding, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n\n      fs.writeFile(file, data, encoding, callback)\n    })\n  })\n}\n\nfunction outputFileSync (file, ...args) {\n  const dir = path.dirname(file)\n  if (fs.existsSync(dir)) {\n    return fs.writeFileSync(file, ...args)\n  }\n  mkdir.mkdirsSync(dir)\n  fs.writeFileSync(file, ...args)\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n}\n","'use strict'\n\nmodule.exports = Object.assign(\n  {},\n  // Export promiseified graceful-fs:\n  require('./fs'),\n  // Export extra methods:\n  require('./copy-sync'),\n  require('./copy'),\n  require('./empty'),\n  require('./ensure'),\n  require('./json'),\n  require('./mkdirs'),\n  require('./move-sync'),\n  require('./move'),\n  require('./output'),\n  require('./path-exists'),\n  require('./remove')\n)\n\n// Export fs.promises as a getter property so that we don't trigger\n// ExperimentalWarning before fs.promises is actually accessed.\nconst fs = require('fs')\nif (Object.getOwnPropertyDescriptor(fs, 'promises')) {\n  Object.defineProperty(module.exports, 'promises', {\n    get () { return fs.promises }\n  })\n}\n","// src/index.ts\nimport { setOutput, getInput } from '@actions/core';\nimport { resolve } from 'path';\nimport { sync } from 'glob';\nimport { readdir } from 'fs-extra'\nimport run from './run'\n\nasync function helloWorld(): Promise<void> {\n  const filenames = sync(`${process.env.GITHUB_WORKSPACE}/**/*`);\n  readdir(process.env.GITHUB_WORKSPACE, (err, files) => {\n    files.forEach(file => {\n      console.log(file);\n    });\n  });\n\n  const input1 = getInput('input-1');\n  console.log(`Input #1 is set to ${input1}`);\n}\n\nhelloWorld();\n"]}